<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Asciidoctor 1.5.6.1"><title>Koh Yi Da - Project Portfolio</title><link rel="stylesheet" href="../stylesheets//gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../stylesheets//coderay-asciidoctor.css"></head><body class="article"><div id="seedu-header"><nav class="navbar navbar-lg navbar-light bg-lighter"><div class="container"><a class="navbar-brand" href="https://github.com/AY1920S1-CS2103T-T11-2/main"><img src="../images/address_book_32.png" alt="SE-EDU"></a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link active" href="../index.html">Dukemon</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/collate">Collate</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/se-book">Book</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/learningresources">Resources</a></li></ul></div></nav></div><div id="site-header"><nav class="navbar navbar-light bg-light"><div class="container"><a class="navbar-brand" href="../index.html"></a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="../UserGuide.html">User Guide</a></li><li class="nav-item"><a class="nav-link" href="../DeveloperGuide.html">Developer Guide</a></li><li class="nav-item"><a class="nav-link active" href="../AboutUs.html">About Us</a></li><li class="nav-item"><a class="nav-link" href="../ContactUs.html">Contact Us</a></li><li class="navitem"><a class="nav-link" href="https://github.com/AY1920S1-CS2103T-T11-2/main"><span class="fa fa-github fa-lg" aria-hidden="true"></span>&nbsp;View on GitHub</a></li></ul></div></nav></div><div id="header"><h1>Koh Yi Da <span class="image"><img src="../images/kohyida1997.png" alt="icon" width="70" height="70"></span> - Project Portfolio</h1></div><div id="content"><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;Project: <code>Dukemon</code> <span class="image"><img src="../images/address_book_32.png" alt="icon" width="30" height="36"></span>
&#160; &#160; &#160; &#160;
Github: <a href="https://github.com/AY1920S1-CS2103T-T11-2/main">Dukemon</a> <span class="image"><img src="../images/github-mark.png" alt="github mark" width="30"></span>
&#160; &#160; &#160; &#160;
RepoSense: <a href="https://nus-cs2103-ay1920s1.github.io/tp-dashboard/#search=kohyida1997&amp;sort=groupTitle&amp;sortWithin=title&amp;since=2019-09-06&amp;timeframe=commit&amp;mergegroup=false&amp;groupSelect=groupByRepos&amp;breakdown=false&amp;tabOpen=true&amp;tabType=authorship&amp;tabAuthor=kohyida1997&amp;tabRepo=AY1920S1-CS2103T-T11-2%2Fmain%5Bmaster%5D">Code</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="span-class-image-img-src-images-address_book_32-png-alt-icon-width-27-height-36-span-overview-of-em-dukemon-em"><a class="link" href="#span-class-image-img-src-images-address_book_32-png-alt-icon-width-27-height-36-span-overview-of-em-dukemon-em">1. <span class="image"><img src="../images/address_book_32.png" alt="icon" width="27" height="36"></span> Overview of <em>Dukemon</em></a></h2>
<div class="sectionbody">
<div class="imageblock">
<div class="content">
<img src="../images/Ui.png" alt="Ui" width="500">
</div>
<div class="title">Figure 1. The Home Page of Dukemon upon initial start-up.</div>
</div>
<div class="paragraph">
<p><strong><em>Dukemon</em></strong> is a desktop app intended as a fun study tool. It is a CLI-centric
(<em>Command Line Interface</em>) app that expands upon the idea of Flashcards to aid
learning in a fun and exciting way. The main program flow of <strong><em>Dukemon</em></strong> is as
 follows:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User creates a <em>WordBank</em>.</p>
</li>
<li>
<p>User creates <em>Cards</em> that have a <em>Word</em> and <em>Meaning</em> each.</p>
</li>
<li>
<p>User populates his <em>WordBank</em> with such <em>Cards</em>.</p>
</li>
<li>
<p>User starts the <em>Game</em> and tries to match <em>Meanings</em> with <em>Words</em> within a certain Time.</p>
</li>
<li>
<p>User completes the <em>Game</em> and reviews his performance <em>Statistics</em>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Developed by my team and I, <strong><em>Dukemon</em></strong> transforms the basic concept of <em>Flashcards</em>
into an exciting and engaging game-like app through features such as <em>automatic Hints</em>, <em>Statistics</em>
and so much more.<br>
<br>
Below are some <strong>highlights</strong> of the important contributions that I have made to the
development of <strong><em>Dukemon</em></strong>.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="span-class-image-img-src-images-work-icon-png-alt-work-icon-width-32-span-contributions-summary"><a class="link" href="#span-class-image-img-src-images-work-icon-png-alt-work-icon-width-32-span-contributions-summary">2. <span class="image"><img src="../images/work-icon.png" alt="work icon" width="32"></span> Contributions - Summary</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="span-class-image-img-src-images-game_timer_icon-png-alt-game-timer-icon-width-13-span-main-enhancements-timer-and-hints"><a class="link" href="#span-class-image-img-src-images-game_timer_icon-png-alt-game-timer-icon-width-13-span-main-enhancements-timer-and-hints">2.1. <span class="image"><img src="../images/game_timer_icon.png" alt="game timer icon" width="13"></span> Main Enhancements - Timer and Hints</a></h3>
<div class="imageblock">
<div class="content">
<img src="../images/UserGuideGameSessionDiagram1.png" alt="UserGuideGameSessionDiagram1" width="540">
</div>
<div class="title">Figure 2. UI of Dukemon in Game Mode, showing the dynamic Timer and Hint features I implemented.</div>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Added a Timer and automatic Hint feature</strong></p>
<div class="ulist">
<ul>
<li>
<p><span class="underline"><em>Brief Description</em></span>:</p>
<div class="ulist">
<ul>
<li>
<p>A <em>live</em> text and graphical countdown <em>Timer</em> (region in yellow box above) that shows the User how much time is left. Based on the time left, <em>Hints</em> (presented in a Hangman style)
are also automatically generated and shown to the user (region in blue box above).</p>
</li>
</ul>
</div>
</li>
<li>
<p><span class="underline"><em>Justification</em></span>:</p>
<div class="ulist">
<ul>
<li>
<p>This enhancement greatly improves the product as it achieves the intended goal of creating a <strong>game-like learning environment</strong> for the User that is fun and engaging.</p>
</li>
<li>
<p>Hints aids in learning, especially for weaker students or when trying out unfamiliar words.</p>
</li>
<li>
<p>Incremental as opposed to one-shot hints gives the User time to think, and doesn&#8217;t potentially render the <em>Game</em> too easy with hints.</p>
</li>
</ul>
</div>
</li>
<li>
<p><span class="underline"><em>Highlights</em></span>:</p>
<div class="ulist">
<ul>
<li>
<p>Challenging as it required <strong>seamless integration</strong> and <strong>synchronization</strong> between
the GUI (Graphical User Interface) and internal logical components in <strong>real time</strong>.</p>
</li>
<li>
<p>Utilized <strong>advanced programming concepts</strong> such as <em>Observer Patterns</em>, <em>Callbacks</em> and <em>Functional Programming</em> to preserve quality
and structural integrity of existing code base. API like <code>java.util.concurrent.CountdownLatch</code> and <code>java.lang.reflect</code> were used to run tests for <em>Callbacks</em> and
the <em>Timer</em> effectively.</p>
</li>
<li>
<p>Integrated external <em>TestFX</em> library to allow for testing of <em>Timer</em> and other components that run on the <em>JavaFX Application Thread</em>.</p>
</li>
</ul>
</div>
</li>
<li>
<p><span class="underline"><em>Credits</em></span> <em>(Framework/Libraries used)</em>:</p>
<div class="ulist">
<ul>
<li>
<p><a href="https://openjfx.io/">JavaFX 11</a> (GUI), <a href="https://github.com/TestFX/TestFX">TestFX</a> (Testing), <a href="https://github.com/junit-team/junit5">JUnit5</a> (Testing)</p>
</li>
</ul>
</div>
</li>
<li>
<p><span class="underline"><em>Credits</em></span> <em>(People)</em>:</p>
<div class="ulist">
<ul>
<li>
<p>Jason (@jascxx) for the bug resolution and implementation of <code>Cards</code>.</p>
</li>
<li>
<p>Paul (@dragontho) for integration of Hints and Questions with UI.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Code contributed</strong>:<br>
[<a href="https://github.com/AY1920S1-CS2103T-T11-2/main/tree/master/src/main/java/seedu/address/appmanager">Functional (Timer)</a>], [<a href="https://github.com/AY1920S1-CS2103T-T11-2/main/blob/master/src/main/java/seedu/address/model/card/FormattedHint.java">Functional (Hints)</a>], [<a href="https://github.com/AY1920S1-CS2103T-T11-2/main/tree/master/src/test/java/seedu/address/appmanager">Tests (Timer)</a>], [<a href="https://github.com/AY1920S1-CS2103T-T11-2/main/blob/master/src/test/java/seedu/address/model/card/FormattedHintTest.java">Tests (Hints)</a>]<br></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="span-class-image-img-src-images-game_mode_icon-png-alt-game-mode-icon-width-32-span-other-enhancement-game"><a class="link" href="#span-class-image-img-src-images-game_mode_icon-png-alt-game-mode-icon-width-32-span-other-enhancement-game">2.2. <span class="image"><img src="../images/game_mode_icon.png" alt="game mode icon" width="32"></span> Other Enhancement - Game</a></h3>
<div class="ulist">
<ul>
<li>
<p><strong>Implemented and designed the <em>Game</em> logic, UI and Difficulty.</strong></p>
<div class="ulist">
<ul>
<li>
<p><span class="underline"><em>Brief Description</em></span>:</p>
<div class="ulist">
<ul>
<li>
<p>The <em>Game</em> is a primary feature of the app where the User makes guesses for <em>Words</em> based on a <em>Meaning</em> shown. Different <em>Difficulty</em> modes are available that changes the time allowed per question.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Code contributed</strong>:<br>
[<a href="https://github.com/AY1920S1-CS2103T-T11-2/main/tree/master/src/main/java/seedu/address/model/game">Functional (Game Logic)</a>], [<a href="https://github.com/AY1920S1-CS2103T-T11-2/main/blob/master/src/main/java/seedu/address/model/appsettings/DifficultyEnum.java">Functional (Game Difficulty)</a>], [<a href="https://github.com/AY1920S1-CS2103T-T11-2/main/tree/master/src/test/java/seedu/address/model/game">Tests (Game)</a>]<br></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="span-class-image-img-src-images-documents_icon-png-alt-documents-icon-width-20-span-other-contributions"><a class="link" href="#span-class-image-img-src-images-documents_icon-png-alt-documents-icon-width-20-span-other-contributions">2.3. <span class="image"><img src="../images/documents_icon.png" alt="documents icon" width="20"></span> Other contributions</a></h3>
<div class="ulist">
<ul>
<li>
<p><span class="underline"><em>Project management</em></span>:</p>
<div class="ulist">
<ul>
<li>
<p>Managed releases <code>v1.2</code> - <code>v1.4</code> (3 releases) on GitHub</p>
</li>
<li>
<p><strong>Designed and prototyped</strong> the general <em>Game</em> program flow and commands, which was adopted by the team.</p>
</li>
<li>
<p>Worked closely with teammates in <strong>discovering and resolving bugs</strong> in other areas of code.
<a href="https://github.com/AY1920S1-CS2103T-T11-2/main/commit/348951bf148ac4c19bfe1f635c4e76de631e5430">#133</a></p>
</li>
<li>
<p>Actively resolved and fixed project wide issues and code warnings. (<strong>Housekeeping</strong> of Dukemon and its releases)
<a href="https://github.com/AY1920S1-CS2103T-T11-2/main/pull/141">#141</a> <a href="https://github.com/AY1920S1-CS2103T-T11-2/main/pull/96/commits/1727566c7058e5f25ba45e98a23ce121b2858bb1">#96</a></p>
</li>
<li>
<p>Researched about and implemented <em>Callbacks</em> and <em>Event-Driven Design</em> which was adopted in other teammate&#8217;s features.
<a href="https://github.com/AY1920S1-CS2103T-T11-2/main/commit/d88513c8c11c6e10b0852c078db84e8ad507408a#diff-88f06211563ad55170a8a9c11829abf0">#185</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><span class="underline"><em>Documentation</em></span> (<em>Details in next section</em>):</p>
<div class="ulist">
<ul>
<li>
<p>Added icons and diagrams to <strong>User Guide</strong> to aid in navigability: <a href="https://github.com/AY1920S1-CS2103T-T11-2/main/pull/137">#137</a></p>
</li>
<li>
<p>Edited and wrote Introduction, Installation, and Quickstart sections in <strong>User Guide</strong>: <a href="https://github.com/AY1920S1-CS2103T-T11-2/main/pull/149">#149</a></p>
</li>
<li>
<p>Drew and explained overall architecture of <em>Dukemon</em> in <strong>Developer Guide</strong> <a href="https://github.com/AY1920S1-CS2103T-T11-2/main/pull/94/files">#94</a></p>
</li>
<li>
<p>Oversaw and ensured quality and cohesiveness of <strong>User Guide</strong> and <strong>Developer Guide</strong>. <a href="https://github.com/AY1920S1-CS2103T-T11-2/main/pull/226">#226</a></p>
</li>
</ul>
</div>
</li>
<li>
<p><span class="underline"><em>Community</em></span>:</p>
<div class="ulist">
<ul>
<li>
<p>Reviewed PRs (with non-trivial review comments): <a href="https://github.com/AY1920S1-CS2103T-T11-2/main/pull/49">#49</a>, <a href="https://github.com/AY1920S1-CS2103T-T11-2/main/pull/71">#71</a></p>
</li>
<li>
<p>Contributed to the CS2103T module forum (example:  <a href="https://github.com/nus-cs2103-AY1920S1/forum/issues/154">1</a>)</p>
</li>
</ul>
</div>
</li>
<li>
<p><span class="underline"><em>Tools</em></span>:</p>
<div class="ulist">
<ul>
<li>
<p>Integrated external testing library (<a href="https://github.com/TestFX/TestFX">TestFX</a>) to the project (<a href="https://github.com/AY1920S1-CS2103T-T11-2/main/pull/79">#79</a>) and Travis CI builds (<a href="https://github.com/AY1920S1-CS2103T-T11-2/main/pull/113">#113</a>).</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="span-class-image-img-src-images-user-manual-icon-png-alt-user-manual-icon-width-35-span-contributions-user-guide"><a class="link" href="#span-class-image-img-src-images-user-manual-icon-png-alt-user-manual-icon-width-35-span-contributions-user-guide">3. <span class="image"><img src="../images/user-manual-icon.png" alt="user manual icon" width="35"></span> Contributions - User Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Below are the highlights of my contributions to the <a href="https://ay1920s1-cs2103t-t11-2.github.io/main/UserGuide.html#game-commands-span-class-image-img-src-images-game_mode_icon-png-alt-game-mode-icon-width-30-span)">User Guide</a>, showcasing my ability to write documentation targeting end-users.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="game-commands-span-class-image-img-src-images-game_mode_icon-png-alt-game-mode-icon-width-30-span"><a class="link" href="#game-commands-span-class-image-img-src-images-game_mode_icon-png-alt-game-mode-icon-width-30-span">3.1. Game Commands <span class="image"><img src="../images/game_mode_icon.png" alt="game mode icon" width="30"></span></a></h3>
<div class="paragraph">
<p>(Available in Game mode)</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/UserGuideGameSessionDiagram1.png" alt="UserGuideGameSessionDiagram1" width="540">
</div>
<div class="title">Figure 3. UI regions that are relevant when a Game session is in progress.</div>
</div>
<div class="paragraph">
<p>This section covers the actions and feedback that are relevant to the <em>Game</em> mode.  The general layout of the UI when a <em>Game</em> is in progress is as seen above.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The timer will be activated to reflect the time left before the <em>Game</em> skips over to the next card. (region in yellow box)</p>
</li>
<li>
<p>The <em>Meaning</em> of the current <em>Card</em> is shown in the region contained by the red box. Based on this <em>Meaning</em> you will  make a <em>Guess</em> for the <em>Word</em> it is describing.</p>
</li>
<li>
<p><em>Hints</em> (if enabled) will be periodically shown as time passes (region in the blue box) in a Hangman-style. The number of hints given
differs across each <em>Difficulty</em>.</p>
</li>
</ol>
</div>
<div class="sect3">
<h4 id="game-mode-span-class-underline-starting-span-span-class-image-img-src-images-game_mode_icon-png-alt-game-mode-icon-width-30-span"><a class="link" href="#game-mode-span-class-underline-starting-span-span-class-image-img-src-images-game_mode_icon-png-alt-game-mode-icon-width-30-span">3.1.1. Game Mode - <span class="underline">Starting</span> <span class="image"><img src="../images/game_mode_icon.png" alt="game mode icon" width="30"></span></a></h4>
<div class="paragraph">
<p>The relevant command(s) are:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Starting new game session:</strong><br>
Format: <code>start [EASY/MEDIUM/HARD]</code></p>
<div class="ulist">
<ul>
<li>
<p>Starts a game session with the currently selected <em>WordBank</em> and specified <em>Difficulty</em>.
(<em>WordBank</em> selection is done in <em>Home</em> mode.) If no <em>Difficuty</em> is specified, the default <em>Difficulty</em> in <em>Settings</em>
will be used.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="game-mode-span-class-underline-playing-span-span-class-image-img-src-images-game_mode_icon-png-alt-game-mode-icon-width-30-span"><a class="link" href="#game-mode-span-class-underline-playing-span-span-class-image-img-src-images-game_mode_icon-png-alt-game-mode-icon-width-30-span">3.1.2. Game Mode - <span class="underline">Playing</span> <span class="image"><img src="../images/game_mode_icon.png" alt="game mode icon" width="30"></span></a></h4>
<div class="imageblock">
<div class="content">
<img src="../images/UserGuideGameSessionDiagram2.png" alt="UserGuideGameSessionDiagram2" width="790">
</div>
<div class="title">Figure 4. Timer and feedback for each Guess during a Game session. (Timer changes color based on time left).</div>
</div>
<div class="paragraph">
<p>The relevant command(s) are:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Making a <em>Guess</em> for a <em>Word</em></strong>:<br>
Format: <code>guess WORD</code></p>
<div class="ulist">
<ul>
<li>
<p>Makes a guess for the <em>Word</em> described by the currently shown <em>Meaning</em>. (<strong>non case-sensitive</strong>)</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Skipping over a <em>Word</em>:</strong><br>
Format: <code>skip</code></p>
<div class="ulist">
<ul>
<li>
<p>Skips over the current <em>Word</em>. (<strong>is counted as a wrong answer</strong>)</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="game-mode-span-class-underline-terminating-statistics-span-span-class-image-img-src-images-game_mode_icon-png-alt-game-mode-icon-width-30-span"><a class="link" href="#game-mode-span-class-underline-terminating-statistics-span-span-class-image-img-src-images-game_mode_icon-png-alt-game-mode-icon-width-30-span">3.1.3. Game Mode - <span class="underline">Terminating &amp; Statistics</span> <span class="image"><img src="../images/game_mode_icon.png" alt="game mode icon" width="30"></span></a></h4>
<div class="imageblock">
<div class="content">
<img src="../images/GameFinishedGameStoppedComparison.png" alt="GameFinishedGameStoppedComparison" width="850">
</div>
<div class="title">Figure 5. Comparison of UI Regions between Game finished vs. Game forcibly stopped.</div>
</div>
<div class="paragraph">
<p>A <em>Game</em> finishes when <strong>all <em>Cards</em> have been attempted</strong>. <em>Statistics</em> are
<strong>automatically shown</strong> upon completion of a <em>Game</em> (see Fig. 6 above). The user can choose to <code>stop</code> a <em>Game</em> before it has finished- <strong>all current <em>Game</em> progress is lost</strong>, and
<strong>no <em>Statistics</em> are collected</strong> (see Fig. 7 above).<br>
<br>
The relevant command(s) are:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Stopping a <em>Game</em> (before it has finished)</strong>:<br>
Format: <code>stop</code></p>
<div class="ulist">
<ul>
<li>
<p>Forcibly terminates the current active <em>Game</em> session.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="span-class-image-img-src-images-source-code-icon-png-alt-source-code-icon-width-34-span-contributions-developer-guide"><a class="link" href="#span-class-image-img-src-images-source-code-icon-png-alt-source-code-icon-width-34-span-contributions-developer-guide">4. <span class="image"><img src="../images/source-code-icon.png" alt="source code icon" width="34"></span> Contributions - Developer Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Below are the highlights my contributions to the <a href="https://ay1920s1-cs2103t-t11-2.github.io/main/DeveloperGuide.html#span-class-underline-timer-based-features-span">Developer Guide</a>, showcasing my ability to write technical documentation and the technical depth of my contributions to the project.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="span-class-underline-timer-based-features-span"><a class="link" href="#span-class-underline-timer-based-features-span">4.1. <span class="underline">Timer-based Features</span></a></h3>
<div class="sect3">
<h4 id="implementation-overview-timer"><a class="link" href="#implementation-overview-timer">4.1.1. Implementation Overview - Timer</a></h4>
<div class="paragraph">
<p>The <code>Timer</code> component utilizes the <code>java.util.Timer</code> API to simulate a stopwatch that runs for each <code>Card</code> in a <code>Game</code>. It relies on
using <em>Functional Interfaces</em> as <em>callbacks</em> for the TImer to periodically notify other components in the system without directly holding a reference to those
components.</p>
</div>
<div class="paragraph">
<p>Internally, the <code>Timer</code>
works by using the method <code>java.util.Timer.schedule()</code> that schedules <code>java.util.TimerTasks</code> at a fixed rate (<em>every 50ms</em>).</p>
</div>
<div class="paragraph">
<p>An <em>Observer Pattern</em> is loosly followed between the <code>Timer</code> and the other components. As opposed to defining an
<em>Observable</em> interface, the <code>AppManager</code> simply passes in <em>method pointers</em> into the <code>Timer</code> to <em>callback</em> when an
event is triggered by the <code>Timer</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
To avoid
synchronization issues, all
<em>callbacks</em> to change <code>UI</code> components are forced to run on the <strong>JavaFX Application Thread</strong> using
<code>Platform.runLater()</code>.
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/TimerClassDiagramCallbacks.png" alt="TimerClassDiagramCallbacks" width="510">
</div>
<div class="title">Figure 6. Class diagram reflecting how the callback-functions are organized in the Timer component.</div>
</div>
<div class="paragraph">
<p>The three main events that are currently triggered by the <code>Timer</code> component which require a <em>callback</em> are:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Time has elapsed, <em>callback</em> to <code>AppManager</code> to <strong>update and display the new timestamp</strong> on the <code>UI</code>.</p>
</li>
<li>
<p>Time has run out (<em>reached zero</em>), <em>callback</em> to <code>AppManager</code> to <strong>skip over</strong> to next <code>Card</code>.</p>
</li>
<li>
<p>Time has reached a point where <code>Hints</code> are to be given to the User, <em>callback</em> to <code>AppManager</code> to <strong>retrieve a <code>Hint</code>
and display</strong> accordingly on the <code>UI</code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The <em>callbacks</em> for each of these events are implemented as nested <em>Functional Interfaces</em>
within the  <code>GameTimer</code> interface, which is implemented by the <code>GameTimerManager</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="implementation-overview-hints"><a class="link" href="#implementation-overview-hints">4.1.2. Implementation Overview - Hints</a></h4>
<div class="imageblock">
<div class="content">
<img src="../images/HintsClassDiagram.png" alt="HintsClassDiagram" width="620">
</div>
<div class="title">Figure 7. Class Diagram showing structure of <code>Hints</code> and its relationships to other components. (Some details omitted)</div>
</div>
<div class="paragraph">
<p>In order to display the <code>Hints</code> component to the user in a <em>Hangman-esque</em> style, <strong>string formatting</strong> has to be performed.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Each <code>Card</code> contains a <code>FormattedHintSupplier</code> that supplies <code>FormattedHints</code> ready to be shown to the user.</p>
</li>
<li>
<p>Each <code>FormattedHintSupplier</code> contains a <code>FormattedHint</code> that is periodically updated.</p>
</li>
<li>
<p>Each <code>FormattedHintSupplier</code> contains a <code>java.util.List</code> of <code>Hint</code> to update  the <code>FormattedHint</code> with.</p>
</li>
<li>
<p>Each <code>FormattedHint</code> maintains a <code>char[]</code> array that it&#8217;s <code>toString()</code> method uses to format the output <code>Hint</code> string with.</p>
</li>
<li>
<p>Each <code>Hint</code> encapsulates a <code>Character</code> and an <code>Index</code> which the <code>Character</code> is to be shown in the <code>FormattedHint</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>Timer</code> component <strong>triggers a request to update <code>Hints</code></strong> to the <code>AppManager</code>, who then updates and retrieves the updated <code>FormattedHint</code> from
the current <code>Game</code> via the <code>Logic</code> component.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="flow-of-events-code-hints-code-disabled"><a class="link" href="#flow-of-events-code-hints-code-disabled">4.1.3. Flow of Events - <code>Hints</code> Disabled</a></h4>
<div class="paragraph">
<p>This section describes the general sequence of events in the life cycle of a single <code>GameTimer</code> object with <strong>no hints</strong>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/TimerSequenceDiagram1.png" alt="TimerSequenceDiagram1" width="690">
</div>
<div class="title">Figure 8. Sequence diagram (with some details omitted) describing the flow of registering and executing callbacks between the different components</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<code>GameTimer</code> interface uses a factory method to create <code>GameTimerManager</code> instances. This behavior
is omitted in the above diagram for simplicity.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>A new <code>GameTimer</code> instance is created by the <code>AppManager</code> for every <code>Card</code> of a <code>Game</code>.
The <code>AppManager</code> provides information regarding the duration in which the <code>GameTimer</code> should run for, and whether
<code>Hints</code> are enabled.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>UI</code> component first registers <em>callbacks</em> with the <code>AppManager</code>.</p>
</li>
<li>
<p>When a <em>Game</em> is started, <code>AppManager</code> initializes a <code>GameTimer</code> instance for the first <em>Card</em>.</p>
</li>
<li>
<p><code>AppManager</code> registers <em>callbacks</em> with the <code>GameTimer</code> component.</p>
</li>
<li>
<p><code>AppManager</code> starts the <code>GameTimer</code>.</p>
</li>
<li>
<p>Periodically, the <code>GameTimer</code> notifies the <code>AppManager</code> to update the <code>UI</code> accordingly.</p>
</li>
<li>
<p><code>AppManager</code> is notified by <code>GameTimer</code>, and then notifies <code>UI</code> to actually trigger the <code>UI</code> change.</p>
</li>
<li>
<p><code>GameTimer</code> finishes counting down (or is <strong>aborted</strong>).</p>
</li>
<li>
<p><code>AppManager</code> repeats Steps 2 to 7 for each <em>Card</em> while the <em>Game</em> has <strong>not</strong> ended.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Using this approach of <em>callbacks</em> provides <strong>better abstraction</strong> between the <code>UI</code> and <code>Timer</code>.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="flow-of-events-code-hints-code-enabled"><a class="link" href="#flow-of-events-code-hints-code-enabled">4.1.4. Flow of Events - <code>Hints</code> Enabled</a></h4>
<div class="imageblock">
<div class="content">
<img src="../images/TimerActivityDiagramWithHints.png" alt="TimerActivityDiagramWithHints" width="400">
</div>
<div class="title">Figure 9. Activity diagram of the <code>run()</code> method of an instance of <code>GameTimerManager</code> when <code>Hints</code> are enabled.</div>
</div>
<div class="paragraph">
<p>The behavior of <code>Timer</code> when <code>Hints</code> are enabled is <strong>largely still the same.</strong></p>
</div>
<div class="paragraph">
<p>In the diagram as <strong>shown above</strong>, the internal <code>Timer</code> is started when
<code>GameTimerManager</code> calls the <code>.schedule()</code> method of its internal <code>java.util.Timer</code>, which schedules <code>TimerTasks</code> immediately,
every 50 milliseconds until the <code>java.util.Timer</code> is cancelled. The field <code>timeLeft</code> is initialized
to be the amount of time allowed per <em>Card</em> (in milliseconds), and is updated every 50ms.</p>
</div>
<div class="paragraph">
<p>When <code>Hints</code> are enabled,
<code>AppManager</code> initializes a <code>HintTimingQueue</code> in the <code>GameTimer</code> for each <em>Card</em>. <code>HintTimingQueue</code> is a class that
contains a <code>java.util.Queue</code> of <em>timestamps</em> (in milliseconds). <code>GameTimer</code> polls from the <code>HintTimingQueue</code> and checks against
these polled <em>timestamps</em> to update the <code>Hints</code> provided periodically.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="design-considerations"><a class="link" href="#design-considerations">4.1.5. Design Considerations</a></h4>
<div class="paragraph">
<p>There were a few reasons for designing the <code>Timer</code> this way.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Alternative 1</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Alternative 2</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Aspect 1</strong>:<br>
Where and How to effect changes to the <code>Ui</code> and other components when the <code>Timer</code> triggers an event.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Holding a reference to <code>Ui</code> and other components directly inside <code>GameTimer</code> itself</strong>:<br>
<strong><em>Pros:</em></strong><br>
Straightforward and direct, can perform many different tasks on the dependent components. <br>
<strong><em>Cons:</em></strong><br>
Poor abstraction and high potential for cyclic dependencies, resulting in high coupling.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Using <em>Functional Interfaces</em> as Call-backs to notify components indirectly.</strong><br>
<strong><em>Pros:</em></strong><br>
Maintains abstraction and minimal coupling between <code>Timer</code> and other components <br>
<strong><em>Cons:</em></strong><br>
Relies on developer to register correct call-back methods with the <code>Timer</code>. Different actions need to be
implemented as different call-backs separately. Possible overhead in performing few levels of call-backs.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock"><strong>Why we chose Alternative 2:</strong><br>
To ensure better extendability of our code for future expansion, we felt it was important to maintain as much
abstraction between components. This is also to make life easier when there comes a need to
debug and resolve problems in the code.
<br></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Alternative 1</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Alternative 2</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Aspect 2</strong>:<br>
 Where and how to perform string formatting for <code>Hints</code> to be displayed.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Move retrieval of individual Hint characters and all formatting outside of the Game component completely</strong>:<br>
 <strong><em>Pros:</em></strong><br>
Maintains immutability of each <code>Card</code> inside <code>Game</code> component. <br>
 <strong><em>Cons:</em></strong><br>
Breaking abstraction as higher level components should not have to deal with string formatting.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Perform formatting at the lowest level possible, using a <code>FormattedHint</code> class.</strong><br>
 <strong><em>Pros:</em></strong><br>
Higher level components need not know about string formatting at all, maintains good abstraction. <br>
<strong><em>Cons:</em></strong><br>
Individual <code>Game</code> components like each <code>Card</code> become stateful, need to make deep copies to prevent
state from carrying across <code>Game</code> sessions.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock"><strong>Why we chose Alternative 2:</strong><br>
Implementing cloning of <code>Cards</code> affects other areas of code the least, and reduces unnecessary coupling. Since changes to higher level
elements can potentially affect all other components, it was safer to modify more atomic areas of code.
 <br></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div></div><div id="footer"><div class="container"><div id="footer-text">Last updated 2019-11-10 17:46:40 UTC</div></div></div></body></html>