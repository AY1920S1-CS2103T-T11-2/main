<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Asciidoctor 1.5.6.1"><title>Dukemon - Developer Guide</title><link rel="stylesheet" href="stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="stylesheets/coderay-asciidoctor.css"></head><body class="article"><div id="seedu-header"><nav class="navbar navbar-lg navbar-light bg-lighter"><div class="container"><a class="navbar-brand" href="https://github.com/AY1920S1-CS2103T-T11-2/main"><img src="images/address_book_32.png" alt="SE-EDU"></a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link active" href="index.html">Dukemon</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/collate">Collate</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/se-book">Book</a></li><li class="nav-item"><a class="nav-link" href="https://se-edu.github.io/learningresources">Resources</a></li></ul></div></nav></div><div id="site-header"><nav class="navbar navbar-light bg-light"><div class="container"><a class="navbar-brand" href="index.html"></a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="UserGuide.html">User Guide</a></li><li class="nav-item"><a class="nav-link active" href="DeveloperGuide.html">Developer Guide</a></li><li class="nav-item"><a class="nav-link" href="AboutUs.html">About Us</a></li><li class="nav-item"><a class="nav-link" href="ContactUs.html">Contact Us</a></li><li class="navitem"><a class="nav-link" href="https://github.com/AY1920S1-CS2103T-T11-2/main"><span class="fa fa-github fa-lg" aria-hidden="true"></span>&nbsp;View on GitHub</a></li></ul></div></nav></div><div id="header"><h1>Dukemon - Developer Guide <span class="image"><img src="images/address_book_32.png" alt="address book 32" width="35"></span></h1></div><div id="content"><div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>By: <code>Team SErebros</code>      Since: <code>Aug 2019</code>      Licence: <code>MIT</code></p>
</div>
</div>
<div id="toc" class="toc">
<div id="toctitle"></div>
<ul class="sectlevel1">
<li><a href="#setting-up">1. Setting up</a></li>
<li><a href="#design">2. Design</a>
<ul class="sectlevel2">
<li><a href="#Design-Architecture">2.1. Architecture</a></li>
<li><a href="#Design-Ui">2.2. UI component</a></li>
<li><a href="#Design-AppManager">2.3. AppManager component</a></li>
<li><a href="#Design-Timer">2.4. Timer component</a></li>
<li><a href="#Design-Logic">2.5. Logic component</a></li>
<li><a href="#Design-Model">2.6. Model component</a></li>
<li><a href="#Design-Game">2.7. Game component</a></li>
<li><a href="#Design-Storage">2.8. Storage component</a></li>
<li><a href="#Design-Statistics">2.9. Statistics component</a></li>
<li><a href="#Design-Commons">2.10. Common classes</a></li>
</ul>
</li>
<li><a href="#implementation">3. Implementation</a>
<ul class="sectlevel2">
<li><a href="#span-class-underline-autocomplete-parser-feature-span">3.1. <span class="underline">AutoComplete/Parser Feature</span></a></li>
<li><a href="#span-class-underline-settings-feature-span">3.2. <span class="underline">Settings Feature</span></a></li>
<li><a href="#span-class-underline-timer-based-features-span">3.3. <span class="underline">Timer-based Features</span></a></li>
<li><a href="#span-class-underline-em-wordbank-em-management-feature-span">3.4. <span class="underline"><em>WordBank</em> Management Feature</span></a></li>
<li><a href="#span-class-underline-statistics-feature-span">3.5. <span class="underline">Statistics Feature</span></a></li>
<li><a href="#logging">3.6. Logging</a></li>
<li><a href="#Implementation-Configuration">3.7. Configuration</a></li>
</ul>
</li>
<li><a href="#product-scope">Appendix A: Product Scope</a></li>
<li><a href="#user-stories">Appendix B: User Stories</a></li>
<li><a href="#use-cases">Appendix C: Use Cases</a></li>
<li><a href="#non-functional-requirements">Appendix D: Non Functional Requirements</a></li>
<li><a href="#glossary">Appendix E: Glossary</a></li>
<li><a href="#instructions-for-manual-testing">Appendix F: Instructions for Manual Testing.</a>
<ul class="sectlevel2">
<li><a href="#initial-start-up-and-editing-of-a-em-wordbank-em">F.1. Initial Start-up and Editing of a <em>WordBank</em>.</a></li>
<li><a href="#starting-and-terminating-a-em-game-em-session-without-em-hints-em">F.2. Starting and Terminating a <em>Game</em> session without <em>Hints</em>.</a></li>
<li><a href="#importing-and-exporting-a-em-wordbank-em-using-drag-and-drop">F.3. Importing and Exporting a <em>WordBank</em> using Drag-and-Drop.</a></li>
<li><a href="#changing-and-saving-em-dukemon-em-settings">F.4. Changing and Saving <em>Dukemon</em> Settings</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="sect1">
<h2 id="setting-up"><a class="link" href="#setting-up">1. Setting up</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Refer to the guide <a href="SettingUp.html">here</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="design"><a class="link" href="#design">2. Design</a></h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="Design-Architecture"><a class="link" href="#Design-Architecture">2.1. Architecture</a></h3>
<div class="imageblock">
<div class="content">
<img src="images/ArchitectureDiagram.png" alt="ArchitectureDiagram">
</div>
<div class="title">Figure 1. Dukemon Architecture Diagram</div>
</div>
<div class="paragraph">
<p>The <strong><em>Architecture Diagram</em></strong> given above explains the high-level design of Dukemon. Given below is a quick overview of each component.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
The <code>.puml</code> files used to create diagrams in this document can be found in the <a href="https://github.com/AY1920S1-CS2103T-T11-2/main/docs/diagrams/">diagrams</a> folder.
Refer to the <a href="UsingPlantUml.html">Using PlantUML guide</a> to learn how to create and edit diagrams.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><code>Main</code> has two classes called <a href="https://github.com/AY1920S1-CS2103T-T11-2/main/blob/master/src/main/java/seedu/address/Main.java"><code>Main</code></a> and <a href="https://github.com/AY1920S1-CS2103T-T11-2/main/blob/master/src/main/java/seedu/address/MainApp.java"><code>MainApp</code></a>. It is responsible for,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>At app launch: Initializes the components in the correct sequence, and connects them up with each other.</p>
</li>
<li>
<p>At shut down: Shuts down the components and invokes cleanup method where necessary.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a href="#Design-Commons"><strong><code>Commons</code></strong></a> represents a collection of classes used by multiple other components.
The following class plays an important role at the architecture level:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>LogsCenter</code> : Used by many classes to write log messages to the App&#8217;s log file.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The rest of <strong>Dukemon</strong> contains <em>seven</em> componenets.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#Design-Ui"><strong><code>UI</code></strong></a>:<br>
The Graphical UI of Dukemon that interacts with the user.</p>
</li>
<li>
<p><a href="#Design-AppManager"><strong><code>AppManager</code></strong></a>:<br>
The buffer between the User and Dukemon&#8217;s internal components.</p>
</li>
<li>
<p><a href="#Design-Timer"><strong><code>Timer</code></strong></a>:<br>
The internal Timer that triggers events based on time elapsed.</p>
</li>
<li>
<p><a href="#Design-Logic"><strong><code>Logic</code></strong></a>:<br>
The main command executor and performer of operations.</p>
</li>
<li>
<p><a href="#Design-Model"><strong><code>Model</code></strong></a>:<br>
Holds the non-game data in-memory.</p>
</li>
<li>
<p><a href="#Design-Game"><strong><code>Game</code></strong></a>:<br>
Holds the data of live game sessions in-memory.</p>
</li>
<li>
<p><a href="#Design-Storage"><strong><code>Storage</code></strong></a>:<br>
Reads data from, and writes data to, the local hard disk.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For the components UI, Logic, Model, Timer, Storage and Game:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Defines its <em>API</em> in an <code>interface</code> with the same name as the Component.</p>
</li>
<li>
<p>Exposes its functionality using a <code>{Component Name}Manager</code> class.</p>
<div class="ulist">
<ul>
<li>
<p>ie. <code>StorageManager</code> implements <code>Storage</code>, <code>GameTimerManager</code> implements <code>GameTimer</code>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The sections below give more details of each component.</p>
</div>
</div>
<div class="sect2">
<h3 id="Design-Ui"><a class="link" href="#Design-Ui">2.2. UI component</a></h3>
<div class="imageblock">
<div class="content">
<img src="images/UiClassDiagram.png" alt="UiClassDiagram">
</div>
<div class="title">Figure 2. Structure of the UI Component</div>
</div>
<div class="paragraph">
<p><strong>API</strong> : <a href="https://github.com/AY1920S1-CS2103T-T11-2/main/blob/master/src/main/java/seedu/address/ui/UiManager.java"><code>Ui.java</code></a></p>
</div>
<div class="paragraph">
<p>The UI consists of a <code>MainWindow</code> that is made up of parts e.g.<code>CommandBox</code>, <code>ResultDisplay</code>, <code>ModularDisplay</code>, <code>StatusBarFooter</code> etc. All these, including the <code>MainWindow</code>, inherit from the abstract <code>UiPart</code> class.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/ModularDisplayClassDiagram.png" alt="ModularDisplayClassDiagram">
</div>
<div class="title">Figure 3. Structure of the ModularDisplay items.</div>
</div>
<div class="paragraph">
<p>As our application also comprises a dynamically changing UI in replacement of the <code>PersonListPanel</code>, <code>ModularDisplay</code> contains multiple other <code>Panel</code> classes in itself in order to render the proper screens during runtime. This rendering is controlled by <code>UpdateUi</code> in <code>MainWindow</code>.</p>
</div>
<div class="paragraph">
<p>The <code>UI</code> component uses JavaFx UI framework. The layouts of these UI parts are defined in matching <code>.fxml</code> files that are in the <code>src/main/resources/view</code> folder. For example, the layout of the <a href="https://github.com/AY1920S1-CS2103T-T11-2/main/src/main/java/seedu/address/ui/MainWindow.java"><code>MainWindow</code></a> is specified in <a href="https://github.com/AY1920S1-CS2103T-T11-2/main/src/main/resources/view/MainWindow.fxml"><code>MainWindow.fxml</code></a></p>
</div>
<div class="paragraph">
<p>The <code>UI</code> component,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Executes user commands using the <code>AppManager</code> component.</p>
</li>
<li>
<p>Listens for changes to <code>Model</code> data and <code>Timer</code> through the <code>AppManager</code> so that the UI can be updated correspondingly.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Design-AppManager"><a class="link" href="#Design-AppManager">2.3. AppManager component</a></h3>
<div class="imageblock">
<div class="content">
<img src="images/AppManagerClassDiagram.png" alt="AppManagerClassDiagram">
</div>
<div class="title">Figure 4. Structure of the AppManager Component</div>
</div>
<div class="paragraph">
<p>The <code>AppManager</code> component serves as a <em>Facade</em> layer and communication hub between the internal components of <em>Dukemon</em> and the <em>UI</em> components.
Using this extra layer provides better abstraction between the <code>UI</code> and the internal components, especially between the <code>Timer</code>
and the <code>UI</code>.</p>
</div>
<div class="paragraph">
<p><code>AppManager</code> communicates with both the <code>Logic</code> and <code>Timer</code> components to send feedback to the <code>UI</code> to display back to the user.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Gets feedback for commands by through <code>Logic</code></p>
</li>
<li>
<p>Starts and Stops the <code>Timer</code> when required.</p>
</li>
<li>
<p>Makes call-backs to the <code>UI</code> to update various <code>UI</code> components.</p>
</li>
<li>
<p>Initiates collection of <code>Statistics</code> by pulling data (eg. Time Elapsed) from <code>Timer</code> and <code>Logic</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Design-Timer"><a class="link" href="#Design-Timer">2.4. Timer component</a></h3>
<div id="fig-TimerClassDiagram" class="imageblock">
<div class="content">
<img src="images/TimerClassDiagram.png" alt="TimerClassDiagram">
</div>
<div class="title">Figure 5. Structure of the Timer Component</div>
</div>
<div class="paragraph">
<p><strong>API</strong> :
<a href="https://github.com/AY1920S1-CS2103T-T11-2/main/blob/master/src/main/java/seedu/address/appmanager/timer/GameTimer.java"><code>GameTimer.java</code></a></p>
</div>
<div class="paragraph">
<p>The <code>Timer</code> consists of a <code>GameTimer</code> that will keep track of time elapsed via an internal countdown timer
and notify the <code>AppManager</code>, who will notify the <code>UI</code> components.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Dealing with the internal countdown timer that runs during a game session.</p>
</li>
<li>
<p>Periodically triggering <em>callbacks</em> that will notify the <code>AppManager</code> component.</p>
</li>
<li>
<p>Gets timestamps to trigger <code>Hints</code> via a <code>HintTimingQueue</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p><em>Due to the fact that the <code>Timer</code> has to work closely with the <code>UI</code> and <code>AppManager</code> (without being
coupled directly), it is separated from the <code>Logic</code>, <code>Model</code> and <code>Game</code> components.</em></p>
</div>
</div>
<div class="sect2">
<h3 id="Design-Logic"><a class="link" href="#Design-Logic">2.5. Logic component</a></h3>
<div class="paragraph">
<p><em>This section breakdown the logic package into its internal components</em></p>
</div>
<div id="fig-LogicClassDiagram" class="imageblock">
<div class="content">
<img src="images/LogicClassDiagram.png" alt="LogicClassDiagram" width="600">
</div>
<div class="title">Figure 6. Structure of the Logic Component</div>
</div>
<div class="paragraph">
<p>Logic is primarily built by two segments: Command and Parser.</p>
</div>
<div class="sect4">
<h5 id="command"><a class="link" href="#command">Command</a></h5>
<div class="literalblock">
<div class="content">
<pre>Command is an abstract class.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Four other abstract classes (WordBankCommand, CardCommand, GameCommand and SettingsCommand) extend Command.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Concrete Command classes with an execute method implementation extend one of the above four abstract classes.</pre>
</div>
</div>
</div>
<div class="sect4">
<h5 id="parser"><a class="link" href="#parser">Parser</a></h5>
<div class="literalblock">
<div class="content">
<pre>ParserManager holds reference to two SpecificModeParsers</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>The SpecificModeParsers change based on current application mode.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>They hold references to all concrete Parser and Command Classes with the help of ClassUtil</pre>
</div>
</div>
<div class="paragraph">
<p>Logic fulfils its contracts with other packages through two interfaces: Logic and UiLogicHelper</p>
</div>
</div>
<div class="sect3">
<h4 id="interaction-through-logic-interface"><a class="link" href="#interaction-through-logic-interface">2.5.3. Interaction through Logic Interface</a></h4>
<div class="paragraph">
<p>Examples of transactions promised by Logic API include command execution, command result and update statistics.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Command Execution through <code>Logic Interface</code></p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>A String from Ui package gets to <code>ParserManager</code> and gets converted into a <code>Command</code> object which is executed by the <code>LogicManager</code>.</p>
</li>
<li>
<p>The command execution can affect the <code>Model</code> (e.g. adding a word meaning pair into wordbank).</p>
</li>
<li>
<p>The result of the command execution is encapsulated as a <code>CommandResult</code> object which is passed back to the <code>Ui</code> and <code>AppManager</code>.</p>
</li>
<li>
<p>In addition, the <code>CommandResult</code> object can also instruct the <code>Ui</code> to perform certain actions, such as displaying help to the user.</p>
</li>
</ol>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="interaction-through-uilogichelper-interface"><a class="link" href="#interaction-through-uilogichelper-interface">2.5.4. Interaction through UiLogicHelper Interface</a></h4>
<div class="paragraph">
<p>UiLogicHelper APIs is a subset of Logic APIs and only contains transactions for AutoComplete. It exposes the functionalities through the following getter methods:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>List&lt;AutoFillAction&gt;#getMenuItems(String text)</code>&#8201;&#8212;&#8201;Gets a List of AutoFillActions to fill up AutoComplete display based on current user input given in text</p>
</li>
<li>
<p><code>ModeEnum#getMode()</code>&#8201;&#8212;&#8201;Retrieves the application mode to display visually to the user (represented by enumeration object ModeEnum)</p>
</li>
<li>
<p><code>List&lt;ModeEnum&gt;#getModes()</code>&#8201;&#8212;&#8201;Retrieves the possible modes the user can transition to from current mode</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following sequence diagram shows how the AutoComplete operation runs when user keys in "st" into command box.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/AutoCompleteSequenceDiagram.png" alt="AutoCompleteSequenceDiagram" width="600">
</div>
<div class="title">Figure 7. Sequence Diagram of AutoComplete</div>
</div>
<div class="paragraph">
<p><strong>API</strong> :
<a href="https://github.com/AY1920S1-CS2103T-T11-2/main/blob/master/src/main/java/seedu/address/logic/Logic.java"><code>Logic.java</code></a>
<a href="https://github.com/AY1920S1-CS2103T-T11-2/main/blob/master/src/main/java/seedu/address/logic/UiLogicHelper.java"><code>UiLogicHelper.java</code></a></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="Design-Model"><a class="link" href="#Design-Model">2.6. Model component</a></h3>
<div class="imageblock">
<div class="content">
<img src="images/ModelClassDiagram.png" alt="ModelClassDiagram">
</div>
<div class="title">Figure 8. Structure of the Model Component</div>
</div>
<div class="paragraph">
<p><strong>API</strong> : <a href="https://github.com/AY1920S1-CS2103T-T11-2/main/blob/master/src/main/java/seedu/address/model/Model.java"><code>Model.java</code></a></p>
</div>
<div class="paragraph">
<p>The <code>Model</code>,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>contains information that the game requires at run time. They include: <code>WordBankList</code>, <code>WordBankStatisticsList</code>,
<code>GlobalStatistics</code>, <code>Game</code>, <code>AppSettings</code>, <code>UserPrefs</code>.</p>
</li>
<li>
<p>does not depend on any of the higher level components. i.e. <code>Ui</code>, <code>Timer</code>, <code>AppManager</code>, <code>Logic</code>, <code>Storage</code>.</p>
</li>
<li>
<p>has a direct reference to a user selected <code>WordBank</code>.</p>
</li>
<li>
<p>exposes an unmodifiable <code>ObservableList&lt;Card&gt;</code> that can be 'observed' e.g. the UI can be bound to this list so that
the UI automatically updates when the data in the list change.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Design-Game"><a class="link" href="#Design-Game">2.7. Game component</a></h3>
<div class="imageblock">
<div class="content">
<img src="images/GameClassDiagram.png" alt="GameClassDiagram">
</div>
<div class="title">Figure 9. Structure of the Game Component</div>
</div>
<div class="paragraph">
<p>The <code>Game</code> component,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>stores a <em>shuffled</em> <code>List&lt;Card&gt;</code> that is cloned/copied from a <code>ReadOnlyWordBank</code>.</p>
</li>
<li>
<p>maintains an <code>Index</code> to keep track of the state of the game.</p>
</li>
<li>
<p>has an associated <code>DifficultyEnum</code> that dictates the time allowed for each question.</p>
</li>
<li>
<p>verifies <code>Guess</code> that are sent by <code>Logic</code> (User&#8217;s guesses)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Design-Storage"><a class="link" href="#Design-Storage">2.8. Storage component</a></h3>
<div class="imageblock">
<div class="content">
<img src="images/StorageClassDiagram.png" alt="StorageClassDiagram">
</div>
<div class="title">Figure 10. Structure of the Storage Component</div>
</div>
<div class="paragraph">
<p><strong>API</strong> : <a href="https://github.com/AY1920S1-CS2103T-T11-2/main/tree/master/src/main/java/seedu/address/storage/Storage.java"><code>Storage.java</code></a></p>
</div>
<div class="paragraph">
<p>The <code>Storage</code> component,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>contains multiple types of distinct storage system.</p>
</li>
<li>
<p>does not depend on any of the higher level components. i.e. <code>Ui</code>, <code>Timer</code>, <code>AppManager</code>, <code>Logic</code>, <code>Model</code>.</p>
</li>
<li>
<p>handles function calls directly to the computer&#8217;s system.</p>
</li>
<li>
<p>can save data objects in json format and read it back.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Design-Statistics"><a class="link" href="#Design-Statistics">2.9. Statistics component</a></h3>
<div class="paragraph">
<p>The Statistics component includes 2 main subcomponents:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A <code>GlobalStatistics</code>, containing the user&#8217;s total number of games played and the number of games played in the
current week.</p>
</li>
<li>
<p>A <code>WordBankStatisticsList</code>, which is a collection of <code>WordBankStatistics</code>, one for each <code>WordBank</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The class diagram of the Statistics component is shown below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/StatisticsClassDiagram.png" alt="StatisticsClassDiagram">
</div>
<div class="title">Figure 11. Statistics class diagram.</div>
</div>
</div>
<div class="sect2">
<h3 id="Design-Commons"><a class="link" href="#Design-Commons">2.10. Common classes</a></h3>
<div class="paragraph">
<p>Classes used by multiple components are in the <code>seedu.Dukemon.commons</code> package.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="implementation"><a class="link" href="#implementation">3. Implementation</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This section describes some noteworthy details on how certain features are implemented.</p>
</div>
<div class="sect2">
<h3 id="span-class-underline-autocomplete-parser-feature-span"><a class="link" href="#span-class-underline-autocomplete-parser-feature-span">3.1. <span class="underline">AutoComplete/Parser Feature</span></a></h3>
<div class="paragraph">
<p><em>This section explains how the design choice of Dynamic Parsers fulfils AutoComplete and Command Execution.</em></p>
</div>
<div class="paragraph">
<p>ParserManager dynamically changes parser depending on current mode the game is at. This is modeled using the Strategy Pattern. <a href="https://en.wikipedia.org/wiki/Strategy_pattern" class="bare">https://en.wikipedia.org/wiki/Strategy_pattern</a>.</p>
</div>
<div class="paragraph">
<p>Instead of choosing a  single parser to use at compile time, they are chosen at runtime depending on runtime state. This supports a variety of benefits which are explained under design considerations.</p>
</div>
<div class="paragraph">
<p>The above implementation empowers the application with the following features :</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Every user keystroke only auto completes the right commands</p>
</li>
<li>
<p>Only the right commands get parsed and executed. What are the right commands? They are the commands that belong to the current mode and switch commands when preconditions are met.</p>
</li>
</ol>
</div>
<div class="sect3">
<h4 id="implementation-details-of-parsermanager"><a class="link" href="#implementation-details-of-parsermanager">3.1.1. Implementation details of ParserManager</a></h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>ParserManager</code> instance has reference to two <code>SpecificModeParser</code> objects</p>
</li>
<li>
<p>When user enters a keystroke, the <code>SpecificModeParser</code> which holds switch commands or <code>SpecificModeParser</code> which holds current mode commands are accessed based on internal state.</p>
</li>
<li>
<p>Internal State consists of booleans: gameIsOver, bankLoaded and enumeration ModeEnum: HOME, OPEN, GAME, SETTINGS</p>
</li>
<li>
<p>Boolean algebra is used to derive the four overall states.</p>
<div class="literalblock">
<div class="content">
<pre>The below activity diagram demonstrates four possible states and a typical user flow.</pre>
</div>
</div>
</li>
</ol>
</div>
<div class="imageblock">
<div class="content">
<img src="images/StateActivityDiagram.PNG" alt="StateActivityDiagram" width="790">
</div>
<div class="title">Figure 12. Activity diagram of a typical application flow</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Definitions of Switch and Mode in table above</p>
<div class="ulist">
<ul>
<li>
<p>SwitchCommands = (commands that change mode)</p>
</li>
<li>
<p>ModeCommands = (commands that belong to a specific mode ie Home, Open, Game and Settings)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="implementation-details-of-specificmodeparser"><a class="link" href="#implementation-details-of-specificmodeparser">3.1.2. Implementation details of SpecificModeParser</a></h4>
<div class="ulist">
<ul>
<li>
<p>SpecificModeParsers use  ClassUtil to handle instantiation of Parser and Command objects.</p>
</li>
<li>
<p>ClassUtil holds a list of references to Command and Parsers classes. In Java class references are passed using .class attribute. Example: AddCommand.class</p>
</li>
<li>
<p>Internally, ClassUtil employs java reflections to find attributes of classes without instantiating them. Code for it is succinct and shown in the snippet <a href="https://github.com/AY1920S1-CS2103T-T11-2/main/blob/master/docs/images/reflectionsSnippet.PNG">linked here</a>.</p>
</li>
<li>
<p>Also, when a command needs to be executed, it instantiates the Parser object (if any) and Command object at runtime.</p>
</li>
<li>
<p><a href="https://github.com/AY1920S1-CS2103T-T11-2/main/blob/master/docs/images/reflectionsSnippet2.PNG">Here</a> is a snippet is from ParserManager. Just one line of code is necessary to include a new command with its parser. Example:</p>
<div class="literalblock">
<div class="content">
<pre>temp.add(NewCommand.class, NewCommandParser.class);</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations"><a class="link" href="#design-considerations">3.1.3. Design Considerations</a></h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Alternative 1</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Alternative 2</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Aspect 1</strong>:<br>
How parser and command objects are instantiated in SpecificModeParser</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Use java reflections to hold a list of classes and iterate through them to pick the matching classes</strong><br>
<br>
<em class="underline">Pros:</em><br>
Open Close Principle strictly followed. Adding a command and a parser takes only one line of code.<br>
<br>
<em class="underline">Cons:</em><br>
It is developer&#8217;s responsibility to ensure classes subclass the abstract Command class as compile time errors would not be thrown.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Use switches to match the command word with the right parsers</strong><br>
<br>
<em class="underline">Pros:</em><br>
Compile time error would be thrown if new command or parser does not subclass correctly.<br>
<br>
<em class="underline">Cons:</em><br>
Adding a new command with parser would require the developer to insert it into multiple locations as the autocomplete feature needs an iterable command list.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock"><strong>Why did we choose Alternative 1:</strong><br>
Given that ClassUtil gracefully handles wrongly passed class references, the lack of compile time check does not impair the functionality of the application. Furthermore, alternative 1 prevents code duplication for autocomplete and executing.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Aspect 2:</strong><br>
Single Parser vs Parser Manager</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Using a ParserManager to dynamically switch between Parsers based on current state</strong><br>
<br>
<em class="underline">Pros:</em><br>
Commands not belonging to specific mode would not be parsed<br>
<br>
<em class="underline">Cons:</em><br>
More code to write for initial developer.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Use a single parser</strong><br>
<br>
<em class="underline">Pros</em><br>
We do not need to restructure the logic package.<br>
<br>
<em class="underline">Cons</em><br>
Bad user experience as it autocompletes and parses commands that do not belong to a particular mode.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock"><strong>Why did we choose Alternative 1:</strong><br>
As commands are stateful, it would be easy to overlook the edge cases when so many combinations and permutations are likely. Segregating them by modes allows a better user experience and minimises the possibilities of bugs. Also, future extensibility  is improved for new modes and parsers as the Open Close Principle is abided.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="span-class-underline-settings-feature-span"><a class="link" href="#span-class-underline-settings-feature-span">3.2. <span class="underline">Settings Feature</span></a></h3>
<div class="sect3">
<h4 id="implementation-2"><a class="link" href="#implementation-2">3.2.1. Implementation</a></h4>
<div class="paragraph">
<p><code>AppSettings</code> is a class that was created to be integrated into the <code>Model</code> of the app. It currently contains these functionalities:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>difficulty [EASY/MEDIUM/HARD]</code> to change the difficulty of the game.</p>
</li>
<li>
<p><code>hints [ON/OFF]</code> to turn hints on or off.</p>
</li>
<li>
<p><code>theme [DARK/LIGHT]</code> to change the theme of the app. Currently only supporting dark and light themes.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This feature provides the user an interface to make their own changes to the state of the machine. The settings set by the user will also be saved to a <code>.json</code> file under <code>data/appsettings.json</code>.</p>
</div>
<div class="paragraph">
<p>The activity diagram below summarizes what happens in the execution of a settings command:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/SettingsActivityDiagram.png" alt="SettingsActivityDiagram" width="200">
</div>
<div class="title">Figure 13. Activity diagram of the execution of a settings command.</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Take note that "mode" as defined in our project is the state in which the application is able to take commands specific to that mode.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Given below is a step by step walk-through of what happens when a user executes a difficulty command while in settings mode:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/StateDiagramBefore.png" alt="StateDiagramBefore" width="250">
</div>
<div class="title">Figure 14. Before state of application.</div>
</div>
<div class="paragraph">
<p><strong>Step 1:</strong><br>
Let us assume that the current difficulty of the application is "EASY". The object diagram above shows the current state of <code>AppSettings</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/DifficultySequenceDiagram1.png" alt="DifficultySequenceDiagram1" width="400">
</div>
<div class="title">Figure 15. Sequence diagram of Step 2.</div>
</div>
<div class="paragraph">
<p><strong>Step 2:</strong><br>
When the user enters <code>difficulty hard</code>, the command gets passed into Ui first, which executes <code>AppManager#execute()</code>, which passes straight to <code>LogicManager#execute()</code> without any logic conditions to determine its execution path.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/DifficultySequenceDiagram2.png" alt="DifficultySequenceDiagram2">
</div>
<div class="title">Figure 16. Sequence diagram of Step 3.</div>
</div>
<div class="paragraph">
<p><strong>Step 3:</strong><br>
At <code>LogicManager#execute()</code> however, the command gets passed into a parser manager which filters out the <code>DifficultyCommand</code> as a non-switch command and it creates a <code>DifficultyCommand</code> to be executed.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/DifficultySequenceDiagram3.png" alt="DifficultySequenceDiagram3">
</div>
<div class="title">Figure 17. Sequence diagram of Step 4.</div>
</div>
<div class="paragraph">
<p><strong>Step 4:</strong><br>
Upon execution of the <code>DifficultyCommand</code>, the state of the model is changed such that the <code>DifficultyEnum</code> in <code>AppSettings</code> is now set to <code>HARD</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/DifficultySequenceDiagram4.png" alt="DifficultySequenceDiagram4">
</div>
<div class="title">Figure 18. Sequence diagram of Step 5.</div>
</div>
<div class="paragraph">
<p><strong>Step 5:</strong><br>
Since the main function of the <code>difficulty</code> command is accomplished and all that is left is to update the ui, the <code>CommandResult</code> that is produced by the execution of the command goes back to <code>Ui</code> without much problem.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/DifficultySequenceDiagram5.png" alt="DifficultySequenceDiagram5" width="250">
</div>
<div class="title">Figure 19. Sequence diagram of Step 6.</div>
</div>
<div class="paragraph">
<p><strong>Step 6:</strong><br>
Assuming that there were no errors thrown during the execution of the <code>difficulty</code> command, the execution calls <code>updateModularDisplay</code> in <code>UpdateUi</code>. In here, the <code>ModeEnum.SETTINGS</code> is registered and it updates the settings display to properly reflect the change in difficulty.</p>
</div>
<div class="paragraph">
<p>The state of appSettings is then as follows:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/StateDiagramAfter.png" alt="StateDiagramAfter" width="250">
</div>
<div class="title">Figure 20. After state of application</div>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="design-considerations-2"><a class="link" href="#design-considerations-2">3.2.2. Design Considerations</a></h4>
<div class="paragraph">
<p>There were a few considerations for implementing an interface that essentially allows users to touch a lot of parts of the application through settings and some of these methods break software design principles. These are the considerations we came across:</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Alternative 1</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Alternative 2</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Aspect 1</strong>:<br>
Where to effect change when a setting is changed by the user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Effecting the change inside the <code>execute()</code> command of the settings commands</strong>:<br>
<br>
<em class="underline">Pros:</em><br>
Since the Command is taking care of all the execution, there is no need to worry about extra implementation of the settings' effects in their classes.<br>
<br>
<em class="underline">Cons:</em><br>
However, there are certain situations that will break software design principles, such as the <strong>Single Responsibility Principle</strong> by doing the job of already existing classes.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Effecting the change in the part of the architecture that the setting is affecting. E.g, Changing the theme inside Ui or changing the difficulty inside model</strong><br>
<br>
<em class="underline">Pros:</em><br>
This method practises good software engineering principles and it abides by the architecture diagram shown above as to where the changes of the settings are being effected.<br>
<br>
<em class="underline">Cons:</em><br>
This method however requires that the reader gets familiar with the whole architecture diagram as they need to know where to implement the actual change in settings as opposed to creating a new class that performs the same functionality of an existing class.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock"><strong>Why did we choose Alternative 2:</strong><br>
We believe that software design principles exist for a reason. Furthermore, while alternative 1 may seem a lot simpler, Alternative 2 allows for extension just by adding new methods and refrains the user from having to extensively rework the structure of the application in order to add a new setting.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Aspect 2:</strong><br>
How to store information regarding the different settings</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Storing it inside the enumerations that make up the choices for the settings</strong><br>
<br>
<em class="underline">Pros:</em><br>
Having the information stored inside the enum allows for immutablilty, such that no other class can change the properties of the enums. Only the developer can change the values of the enums and it will subsequently affect all the methods and functionality that relies on said enum.<br>
<br>
<em class="underline">Cons:</em><br>
In the case that the user wants to customise certain continuous settings such as time limit, they are unable to as those settings are already defined by the developer to be discrete options.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Storing it inside the classes that implement the settings</strong><br>
<br>
<em class="underline">Pros</em><br>
The information is easily accessible from within the class itself and there is no need for extra import classes to handle the enums in alternative 1.<br>
<br>
<em class="underline">Cons</em><br>
Unlike Alternative 1, the developer can create an extension to the class implementing the setting to allow the user to customise their settings even further, allowing for continuous values to be used rather than discrete values.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock"><strong>Why did we choose Alternative 1:</strong><br>
The considerations for this aspect was mainly down to how much customisability we wanted to grant our users. While having more customisability is better in some cases,
in this one, we do not think the added functionality of allowing the user to extensively customise their experience with our application to be particularly impactful not necessary. Moreover, alternative 2 makes for a less organised code base and we wanted to avoid that as much as possible.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="span-class-underline-timer-based-features-span"><a class="link" href="#span-class-underline-timer-based-features-span">3.3. <span class="underline">Timer-based Features</span></a></h3>
<div class="imageblock">
<div class="content">
<img src="images/TimerDGScreenshot.png" alt="TimerDGScreenshot">
</div>
<div class="title">Figure 21. Screenshot of the <code>Timer</code> component in action.</div>
</div>
<div class="sect3">
<h4 id="implementation-overview-timer"><a class="link" href="#implementation-overview-timer">3.3.1. Implementation Overview - Timer</a></h4>
<div class="paragraph">
<p>The <code>Timer</code> component utilizes the <code>java.util.Timer</code> API to simulate a stopwatch that runs for each <em>Card</em> in a <code>Game</code>. It relies on
using <em>Functional Interfaces</em> as <em>callbacks</em> for the TImer to periodically notify other components in the system without directly holding a reference to those
components.</p>
</div>
<div class="paragraph">
<p>Internally, the <code>Timer</code>
works by using the method <code>java.util.Timer.schedule()</code> that schedules <code>java.util.TimerTasks</code> at a fixed rate (<em>every 50ms</em>).</p>
</div>
<div class="paragraph">
<p>An <em>Observer Pattern</em> is loosly followed between the <code>Timer</code> and the other components. As opposed to defining an
<em>Observable</em> interface, the <code>AppManager</code> simply passes in <em>method pointers</em> into the <code>Timer</code> to <em>callback</em> when an
event is triggered by the <code>Timer</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
To avoid
synchronization issues, all
<em>callbacks</em> to change <code>UI</code> components are forced to run on the <strong>JavaFX Application Thread</strong> using
<code>Platform.runLater()</code>.
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="images/TimerClassDiagramCallbacks.png" alt="TimerClassDiagramCallbacks">
</div>
<div class="title">Figure 22. Class diagram reflecting how the callback-functions are organized in the Timer component.</div>
</div>
<div class="paragraph">
<p>The three main events that are currently triggered by the <code>Timer</code> component which require a <em>callback</em> are:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Time has elapsed, <em>callback</em> to <code>AppManager</code> to <strong>update and display the new timestamp</strong> on the <code>UI</code>.</p>
</li>
<li>
<p>Time has run out (<em>reached zero</em>), <em>callback</em> to <code>AppManager</code> to <strong>skip over</strong> to next <em>Card</em>.</p>
</li>
<li>
<p>Time has reached a point where <code>Hints</code> are to be given to the User, <em>callback</em> to <code>AppManager</code> to <strong>retrieve a <code>Hint</code>
and display</strong> accordingly on the <code>UI</code>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The <em>callbacks</em> for each of these events are implemented as nested <em>Functional Interfaces</em>
within the  <code>GameTimer</code> interface, which is implemented by the <code>GameTimerManager</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="implementation-overview-hints"><a class="link" href="#implementation-overview-hints">3.3.2. Implementation Overview - Hints</a></h4>
<div class="imageblock">
<div class="content">
<img src="images/HintsClassDiagram.png" alt="HintsClassDiagram">
</div>
<div class="title">Figure 23. Class Diagram showing structure of <code>Hints</code> and its relationships to other components. (Some details omitted)</div>
</div>
<div class="paragraph">
<p>In order to display the <code>Hints</code> component to the user in a <em>Hangman-esque</em> style, <strong>string formatting</strong> has to be performed.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Each <em>Card</em> contains a <code>FormattedHintSupplier</code> that supplies <code>FormattedHints</code> ready to be shown to the user.</p>
</li>
<li>
<p>Each <code>FormattedHintSupplier</code> contains a <code>FormattedHint</code> that is periodically updated.</p>
</li>
<li>
<p>Each <code>FormattedHintSupplier</code> contains a <code>java.util.List</code> of <code>Hint</code> to update  the <code>FormattedHint</code> with.</p>
</li>
<li>
<p>Each <code>FormattedHint</code> maintains a <code>char[]</code> array that it&#8217;s <code>toString()</code> method uses to format the output <code>Hint</code> string with.</p>
</li>
<li>
<p>Each <code>Hint</code> encapsulates a <code>Character</code> and an <code>Index</code> which the <code>Character</code> is to be shown in the <code>FormattedHint</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>Timer</code> component <strong>triggers a request to update <code>Hints</code></strong> to the <code>AppManager</code>, who then updates and retrieves the updated <code>FormattedHint</code> from
the current <code>Game</code> via the <code>Logic</code> component.</p>
</div>
</div>
<div class="sect3">
<h4 id="flow-of-events-code-hints-code-disabled"><a class="link" href="#flow-of-events-code-hints-code-disabled">3.3.3. Flow of Events - <code>Hints</code> Disabled</a></h4>
<div class="paragraph">
<p>This section describes the general sequence of events in the life cycle of a single <code>GameTimer</code> object with <strong>no hints</strong>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/TimerSequenceDiagram1.png" alt="TimerSequenceDiagram1">
</div>
<div class="title">Figure 24. Sequence diagram (with some details omitted) describing the flow of registering and executing callbacks between the different components</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<code>GameTimer</code> interface uses a factory method to create <code>GameTimerManager</code> instances. This behavior
is omitted in the above diagram for simplicity.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>A new <code>GameTimer</code> instance is created by the <code>AppManager</code> for every <em>Card</em> of a <code>Game</code>.
The <code>AppManager</code> provides information regarding the duration in which the <code>GameTimer</code> should run for, and whether
<code>Hints</code> are enabled.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>UI</code> component first registers <em>callbacks</em> with the <code>AppManager</code>.</p>
</li>
<li>
<p>When a <em>Game</em> is started, <code>AppManager</code> initializes a <code>GameTimer</code> instance for the first <em>Card</em>.</p>
</li>
<li>
<p><code>AppManager</code> registers <em>callbacks</em> with the <code>GameTimer</code> component.</p>
</li>
<li>
<p><code>AppManager</code> starts the <code>GameTimer</code>.</p>
</li>
<li>
<p>Periodically, the <code>GameTimer</code> notifies the <code>AppManager</code> to update the <code>UI</code> accordingly.</p>
</li>
<li>
<p><code>AppManager</code> is notified by <code>GameTimer</code>, and then notifies <code>UI</code> to actually trigger the <code>UI</code> change.</p>
</li>
<li>
<p><code>GameTimer</code> finishes counting down (or is <strong>aborted</strong>).</p>
</li>
<li>
<p><code>AppManager</code> repeats Steps 2 to 7 for each <em>Card</em> while the <em>Game</em> has <strong>not</strong> ended.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Using this approach of <em>callbacks</em> provides <strong>better abstraction</strong> between the <code>UI</code> and <code>Timer</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="flow-of-events-code-hints-code-enabled"><a class="link" href="#flow-of-events-code-hints-code-enabled">3.3.4. Flow of Events - <code>Hints</code> Enabled</a></h4>
<div class="imageblock">
<div class="content">
<img src="images/HintDGScreenshot.png" alt="HintDGScreenshot" width="790">
</div>
<div class="title">Figure 25. Screenshot of the automatic <code>Hints</code> feature in action.</div>
</div>
<div class="imageblock">
<div class="content">
<img src="images/TimerActivityDiagramWithHints.png" alt="TimerActivityDiagramWithHints">
</div>
<div class="title">Figure 26. Activity diagram of the <code>run()</code> method of an instance of <code>GameTimerManager</code> when <code>Hints</code> are enabled.</div>
</div>
<div class="ulist">
<ul>
<li>
<p>In the diagram as <strong>shown above</strong>, the internal <code>Timer</code> is started when
<code>GameTimerManager</code> calls the <code>.schedule()</code> method of its internal <code>java.util.Timer</code>, which schedules <code>TimerTasks</code> immediately,
every 50 milliseconds until the <code>java.util.Timer</code> is cancelled. The field <code>timeLeft</code> is initialized
to be the amount of time allowed per <em>Card</em> (in milliseconds), and is updated every 50ms.</p>
</li>
<li>
<p>The behavior of <code>Timer</code> when <code>Hints</code> are enabled is <strong>largely still the same.</strong></p>
</li>
<li>
<p>When <code>Hints</code> are enabled,
<code>AppManager</code> initializes a <code>HintTimingQueue</code> in the <code>GameTimer</code> for each <em>Card</em>. <code>HintTimingQueue</code> is a class that
contains a <code>java.util.Queue</code> of <em>timestamps</em> (in milliseconds). <code>GameTimer</code> polls from the <code>HintTimingQueue</code> and checks against
these polled <em>timestamps</em> to update the <code>Hints</code> provided periodically.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-3"><a class="link" href="#design-considerations-3">3.3.5. Design Considerations</a></h4>
<div class="paragraph">
<p>There were a few reasons for designing the <code>Timer</code> and <code>Hints</code> this way.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Alternative 1</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Alternative 2</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Aspect 1</strong>:<br>
Where and How to effect changes to the <code>Ui</code> and other components when the <code>Timer</code> triggers an event.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Holding a reference to <code>Ui</code> and other components directly inside <code>GameTimer</code> itself</strong>:<br></p>
<p class="tableblock"><em>Pros:</em><br>
Straightforward and direct, can perform many different tasks on the dependent components. <br></p>
<p class="tableblock"><em>Cons:</em><br>
Poor abstraction and high potential for cyclic dependencies, resulting in high coupling.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Using <em>Functional Interfaces</em> as Call-backs to notify components indirectly.</strong><br></p>
<p class="tableblock"><em>Pros:</em><br>
Maintains abstraction and minimal coupling between <code>Timer</code> and other components <br></p>
<p class="tableblock"><em>Cons:</em><br>
Relies on developer to register correct call-back methods with the <code>Timer</code>. Different actions need to be
implemented as different call-backs separately. Possible overhead in performing few levels of call-backs.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock"><strong>Why we chose Alternative 2:</strong><br>
To ensure better extendability of our code for future expansion, we felt it was important to maintain as much
abstraction between components. This is also to make life easier when there comes a need to
debug and resolve problems in the code.
<br></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Alternative 1</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Alternative 2</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Aspect 2</strong>:<br>
 Where and how to perform string formatting for <code>Hints</code> to be displayed.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Move retrieval of individual Hint characters and all formatting outside of the Game component completely</strong>:<br></p>
<p class="tableblock"> <em>Pros:</em><br>
Maintains immutability of each <em>Card</em> inside <code>Game</code> component. <br></p>
<p class="tableblock"> <em>Cons:</em><br>
Breaking abstraction as higher level components should not have to deal with string formatting.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Perform formatting at the lowest level possible, using a <code>FormattedHint</code> class.</strong><br></p>
<p class="tableblock"> <em>Pros:</em><br>
Higher level components need not know about string formatting at all, maintains good abstraction. <br></p>
<p class="tableblock"> <em>Cons:</em><br>
Individual <code>Game</code> components like each <em>Card</em> become stateful, need to make deep copies to prevent
state from carrying across <code>Game</code> sessions.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock"><strong>Why we chose Alternative 2:</strong><br>
Implementing cloning of <em>Cards</em> affects other areas of code the least, and reduces unnecessary coupling. Since changes to higher level
elements can potentially affect all other components, it was safer to modify more atomic areas of code.
 <br></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>&#160;<br></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="span-class-underline-em-wordbank-em-management-feature-span"><a class="link" href="#span-class-underline-em-wordbank-em-management-feature-span">3.4. <span class="underline"><em>WordBank</em> Management Feature</span></a></h3>
<div class="paragraph">
<p>This section discusses the implementation of <em>WordBank</em> Management in various levels of detail.<br>
This can be split into four complimentary distinct sections.</p>
</div>
<div class="paragraph">
<p>They are:<br></p>
</div>
<div class="ulist">
<ul>
<li>
<p><em>WordBank</em>’s data structure and its storage system</p>
</li>
<li>
<p>User Commands</p>
</li>
<li>
<p>Drag and drop</p>
</li>
<li>
<p>Revision <em>WordBank</em></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>&#160;</p>
</div>
<hr>
<div class="sect3">
<h4 id="em-wordbank-em-s-data-structure-and-its-storage-system"><a class="link" href="#em-wordbank-em-s-data-structure-and-its-storage-system">3.4.1. <em>WordBank</em>'s data structure and its storage system</a></h4>
<div class="paragraph">
<p>Allows developers to use and extend this architecture to streamline their feature implementation.<br>
Allows user to save and load their <em>WordBanks</em>.<br></p>
</div>
<div class="paragraph">
<p>The attributes and methods of the following class diagrams have been carefully written.<br>
They describe and explain <em>WordBank</em>'s data structure and its storage system in detail.<br></p>
</div>
<div class="sect4">
<h5 id="we-start-from-the-lowest-level-code-em-card-em-code-br"><a class="link" href="#we-start-from-the-lowest-level-code-em-card-em-code-br">We start from the lowest level - <code><em>Card</em></code>.<br></a></h5>
<div class="imageblock">
<div class="content">
<img src="images/CardDiagram.png" alt="CardDiagram">
</div>
<div class="title">Figure 27. Class diagram of <code><em>Card</em></code>.</div>
</div>
<div class="paragraph">
<p>A <code><em>Card</em></code> contains a unique <code>id</code>, a <code>word</code>, a unique <code>meaning</code>, a set of <code>tags</code>.<br></p>
</div>
<div class="paragraph">
<p><code>id</code> : for statistical tracking<br>
<code>word</code>: answer to the question (meaning)<br>
<code>meaning</code>: the question that will appear in the game<br>
<code>tags</code>: optional tags to classify <code><em>Cards</em></code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<code><em>Cards</em></code> with the same <code>meaning</code> are duplicates, and is disallowed.
</td>
</tr>
</table>
</div>
<hr>
</div>
<div class="sect4">
<h5 id="next-the-second-level-code-em-wordbank-em-code"><a class="link" href="#next-the-second-level-code-em-wordbank-em-code">Next, the second level - <code><em>WordBank</em></code>.</a></h5>
<div class="imageblock">
<div class="content">
<img src="images/WordBankDiagram.png" alt="WordBankDiagram">
</div>
<div class="title">Figure 28. Class diagram of <code><em>WordBank</em></code>.</div>
</div>
<div class="paragraph">
<p>A <code><em>WordBank</em></code> contains a <code>UniqueCardList</code> and a unique <code>name</code>.<br></p>
</div>
<div class="paragraph">
<p><code>UniqueCardList</code> : prevent duplicate <em>Cards</em><br>
<code>name</code>: unique name of the <code><em>WordBank</em></code><br></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<code><em>WordBank</em></code> exposes an unmodifiable <code>ObservableList&lt;Card&gt;</code> that can be 'observed'.
The UI can be bound to this list so that the UI automatically updates when the <em>Cards</em> in the list
change.
<code><em>WordBanks</em></code> with the same <code>name</code> are duplicates, and is disallowed.
</td>
</tr>
</table>
</div>
<hr>
</div>
<div class="sect4">
<h5 id="now-the-third-level-code-wordbanklist-code"><a class="link" href="#now-the-third-level-code-wordbanklist-code">Now the third level - <code>WordBankList</code></a></h5>
<div class="imageblock">
<div class="content">
<img src="images/WordBankListDiagram.png" alt="WordBankListDiagram">
</div>
<div class="title">Figure 29. Class diagram of <code>WordBankList</code>.</div>
</div>
<div class="paragraph">
<p>A <code>WordBankList</code> contains a <code>UniqueWordBankList</code>.</p>
</div>
<div class="paragraph">
<p><code>UniqueWordBankList</code> : prevent duplicate <code>WordBanks</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<code>WordBankList</code> exposes an unmodifiable <code>ObservableList&lt;WordBank&gt;</code> that can be 'observed'.
The UI can be bound to this list so that the UI automatically updates when the <code>WordBanks</code> in the list
change.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>In Dukemon, there is should only be one <code>WordBankList</code>, which is created upon <code>Storage</code> initialisation.<br>
<code>Model</code> holds a reference to that specific <code>WordBankList</code>.</p>
</div>
<hr>
</div>
<div class="sect4">
<h5 id="architecture-overview-code-wordbanklist-code"><a class="link" href="#architecture-overview-code-wordbanklist-code">Architecture overview - <code>WordBankList</code></a></h5>
<div class="imageblock">
<div class="content">
<img src="images/OverviewOfWordBankList.png" alt="OverviewOfWordBankList">
</div>
<div class="title">Figure 30. Overview of <code>WordBankList</code>.</div>
</div>
<hr>
</div>
<div class="sect4">
<h5 id="em-wordbank-em-s-storage-system-integration"><a class="link" href="#em-wordbank-em-s-storage-system-integration"><em>WordBank</em>'s storage system integration.</a></h5>
<div class="imageblock">
<div class="content">
<img src="images/WBStorage.png" alt="WBStorage">
</div>
<div class="title">Figure 31. Integration of <code>WordBankList</code> within <code>Storage</code> and <code>Model</code>.</div>
</div>
<div class="paragraph">
<p><code>WordBankListStorage</code> consists of robust methods in which developers can use and extend upon easily.<br>
Alongside with <em>WordBank</em>'s data structure, they lay the foundation for the other complementary sections of <em>WordBank</em> Management.</p>
</div>
<div class="paragraph">
<p>On top of that, they serve as a essential foundation for Dukemon. As such, these data structures and methods were required
by the team, to build individual features. (<em>Statistics</em>, <em>Game</em>, <em>Settings</em>)</p>
</div>
<div class="paragraph">
<p>&#160;</p>
</div>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="user-commands"><a class="link" href="#user-commands">3.4.2. User Commands</a></h4>
<div class="paragraph">
<p>Allows user to customise <em>Cards</em> and group them according to topics (<em>WordBanks</em>).<br>
User commands edits and manipulates <em>Cards</em> and <em>WordBanks</em> heavily.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
As mentioned previously, user commands will extend and utilise <em>WordBank</em>'s data structure and storage heavily.<br>
You can refer to it to enhance your understanding of this implementation.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Let us first introduce you how these commands are implemented and structured in <code>Logic</code>.<br></p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/WBLogicStorageModel.png" alt="WBLogicStorageModel">
</div>
<div class="title">Figure 32. Overview class diagram of <code>Logic</code> with emphasis on <code>CardCommands</code> and <code>WordBankCommands</code>.</div>
</div>
<div class="paragraph">
<p><code>Commands</code> reside in <code>Logic</code>. They work on <code>Model</code> and <code>Storage</code> through <code>Logic</code>.<br>
To segregate <code>Cards</code> according to their function, we distinguished the following:</p>
</div>
<div class="paragraph">
<p><code>CardCommands</code> work on <code>Cards</code>.<br></p>
</div>
<div class="paragraph">
<p><code>WordBankCommands</code> work on <code>WordBanks</code>.</p>
</div>
<hr>
<div class="sect4">
<h5 id="walkthrough-code-importcommand-code-br"><a class="link" href="#walkthrough-code-importcommand-code-br">Walkthrough - <code>ImportCommand</code>.<br></a></h5>
<div class="imageblock">
<div class="content">
<img src="images/ImportCommandSeqDiagram.png" alt="ImportCommandSeqDiagram">
</div>
<div class="title">Figure 33. Sequence diagram detailing a successful <code>WordBankCommand</code> through different components.</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Most of these methods utilised can be found in <em>WordBank</em>'s data structure and storage class diagrams.<br>
The emphasis here is to show how these commands utilise <em>WordBank</em>'s data structure and storage.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>We will see the case where an <code>ImportCommand</code> is valid.<br>
A valid input could be: "import w/bank1, f/~/downloads"</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Depending on the input, a specific <code>Command</code> type is returned by <code>ParserManager</code>. i.e. <code>ImportCommand</code>.</p>
</li>
<li>
<p>Each type of <code>Command</code> executes with slight variance. <code>ImportCommand</code> executes and checks in <code>Model</code> to check if
<code>WordBankList</code> already contains <code>WordBank</code>.</p>
</li>
<li>
<p>Relevant information is stored in a specific <code>CommandResult</code> and is returned back to <code>LogicManager</code>.
i.e. <code>ImportCommandResult</code>.</p>
</li>
<li>
<p>Each type of <code>CommandResult</code> updates the storage with slight variance. <code>ImportCommand</code> calls the <code>importWordBank</code> method.</p>
</li>
<li>
<p><code>JsonWordBankListStorage</code> contains the abstracted details of how a <code>commandResult</code> should be handled.
For <code>importWordBank</code> method, <code>addWordBank</code> and <code>saveWordBank</code> private methods are called.</p>
</li>
<li>
<p>Within <code>addWordBank</code> method, <code>WordBank</code> is added into the underlying <code>UniqueWordBankList</code>.<br>
Two synchronisation happens here.<br>
Firstly, as <code>Model</code> contains the same <code>WordBankList</code>, the two list contains synchronised data.<br>
Secondly, <code>WordBankList</code> exposes an unmodifiable <code>ObservableList&lt;WordBank&gt;</code> that can be 'observed'.
<code>UI</code> was bounded to this list upon initialisation. Hence, it allows the user sees the updated <code>WordBank</code> automatically.</p>
</li>
<li>
<p>Within <code>saveWordBank</code> method, an even lower level <code>saveJsonFile</code> function is called to write to the disk.
This is performed through the common class: <code>JsonUtil</code>.</p>
</li>
<li>
<p>It returns back to <code>LogicManager</code>, and a success message is passed back to <code>AppManager</code>,
then to the <code>UI</code> to notify the user.</p>
</li>
</ol>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>Other <code>CardCommand</code> and <code>WordBankCommand</code> work similarly to <code>ImportCommand</code>, with slight variance.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>&#160;</p>
</div>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="drag-and-drop"><a class="link" href="#drag-and-drop">3.4.3. Drag and drop</a></h4>
<div class="paragraph">
<p>Allows user to export their <em>WordBank</em> out of their computer simply by dragging it out of Dukemon.<br>
Likewise, it allows user to import a <em>WordBank</em> file from their computer by dragging it into Dukemon.</p>
</div>
<div class="paragraph">
<p>Improves user experience by making it easy to share <em>WordBanks</em> with friends.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
As mentioned previously, drag and drop will extend and utilise <em>WordBank</em>'s data structure and storage heavily.<br>
You can refer to it to enhance your understanding of this implementation.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/DragAndDrop1.png" alt="DragAndDrop1" width="121"></span>
&#160; &#160; &#8594; &#160; &#160;
<span class="image"><img src="images/DragAndDrop2.png" alt="DragAndDrop2" width="130"></span>
&#160; &#160; &#8594; &#160; &#160;
<span class="image"><img src="images/DragAndDrop3.png" alt="DragAndDrop3" width="130"></span></p>
</div>
<div class="paragraph">
<p>From <code>HOME</code> mode, you can view your <em>WordBanks</em>.<br>
Simply drag and drop a <em>WordBank</em> json file from your computer into the <em>Dukemon</em> GUI.<br></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="images/DragAndDropOut1.png" alt="DragAndDropOut1" width="130"></span>
&#160; &#160; &#8594; &#160; &#160;
<span class="image"><img src="images/DragAndDropOut2.png" alt="DragAndDropOut2" width="124"></span>
&#160; &#160; &#8594; &#160; &#160;
<span class="image"><img src="images/DragAndDropOut3.png" alt="DragAndDropOut3" width="119"></span></p>
</div>
<div class="paragraph">
<p>Likewise, drag and drop a <code>WordBank</code> out of the application, into say,
your desktop, or chat applications.<br></p>
</div>
<hr>
<div class="sect4">
<h5 id="walkthrough-drag-in"><a class="link" href="#walkthrough-drag-in">Walkthrough - Drag in.</a></h5>
<div class="imageblock">
<div class="content">
<img src="images/DragAndDropSequenceDiagram.png" alt="DragAndDropSequenceDiagram">
</div>
<div class="title">Figure 34. Sequence diagram showing how drag and drop utilises the <code>ImportCommand</code> and thus the <em>WordBank</em>'s storage.</div>
</div>
<div class="paragraph">
<p><code>LoadBankPanel</code> is the corresponding class and the FXML file that displays the <em>WordBanks</em> for the user.<br>
It is deeply nested within <code>UI</code> and only has access to an <code>ObservableList&lt;WordBank&gt;</code>.<br>
This means it has no way to perform <code>commands</code>, update <code>model</code> or update <code>storage</code>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>To work around this, a functional callback is registered within <code>LoadBankPanel</code>.</p>
</li>
<li>
<p><code>LoadBankPanel</code> registers JavaFX&#8217;s UI drag detection and drag dropped methods, with the <em>callback</em>.<br></p>
</li>
<li>
<p>After which, the <em>callback</em> essentially performs an <code>ImportCommand</code>, to load the <em>WordBank</em>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>It is also noteworthy to mention that, dragging into Dukemon functionality is well guarded against:<br></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Not json file format.</p>
</li>
<li>
<p>Json file but data in wrong format.</p>
</li>
<li>
<p>Json file with correct format but contains duplicate <em>cards</em> within.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>User receives apt feedback through the command box for different cases.
This is possible with careful exceptions handling within the <code>ImportCommand</code> itself.</p>
</div>
<div class="paragraph">
<p>&#160;</p>
</div>
<hr>
</div>
</div>
<div class="sect3">
<h4 id="revision-em-wordbank-em"><a class="link" href="#revision-em-wordbank-em">3.4.4. Revision <em>WordBank</em></a></h4>
<div class="paragraph">
<p>Allows user to visit a centralised <em>WordBank</em> that automatically collects <em>cards</em> for revision.<br>
<em>Cards</em> that were answered wrongly are automatically added to this revision bank.<br>
Likewise, <em>cards</em> that were answered correctly during game play are automatically removed from this revision bank.</p>
</div>
<div class="paragraph">
<p>Improves user learning experience by helping the user to collate <em>cards</em> that require revision.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
As mentioned previously, revision <em>WordBank</em> will extend and utilise <em>WordBank</em>'s data structure and storage heavily.<br>
You can refer to it to enhance your understanding of this implementation.
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="images/RevisionBankActivityDiagram.png" alt="RevisionBankActivityDiagram">
</div>
<div class="title">Figure 35. Activity diagram showing different scenarios possible while trying to update revision bank.</div>
</div>
<div class="paragraph">
<p>Revision <em>WordBank</em> was one of the essential and dominant features we wanted to implement since early development, however
it had to be implemented last because it required multiple components working together.<br></p>
</div>
<div class="paragraph">
<p>These components include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>AppManager</p>
</li>
<li>
<p>StorageManager</p>
</li>
<li>
<p>LogicManager</p>
</li>
<li>
<p>GameStatistics</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Given that well-developed methods reside in each of these components, we then require an overview of revision bank implementation.
The activity diagram above is able to detail the thought process and implementation.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>AppManager</code> gets first notification that a <code>Game</code> session has ended.</p>
</li>
<li>
<p><code>StorageManager</code> creates revision word bank if necessary.</p>
</li>
<li>
<p><code>GameStatistics</code> gives the required information: correct and wrong <code>Cards</code>.</p>
</li>
<li>
<p><code>LogicManager</code> manages the processing of these <code>Cards</code>, with some slight variance depending on situation, into revision bank.</p>
</li>
<li>
<p><code>StorageManager</code> saves it back into hard disk.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>&#160;</p>
</div>
<hr>
</div>
<div class="sect3">
<h4 id="design-considerations-4"><a class="link" href="#design-considerations-4">3.4.5. Design Considerations</a></h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Alternative 1</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Alternative 2</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Aspect 1</strong>:<br>
Data structure for <code>WordBankList</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Create classes for both <code>WordBankList</code> and <code>WordBank</code>, even though they are very similar in structure.</strong><br></p>
<p class="tableblock"><em>Pros:</em><br>
User&#8217;s modification to their <code>WordBanks</code> and <code>Cards</code> requires very different methods. These two data structure
requires different access to the storage as well.<br>
With two different classes, implementation of the <code>Commands</code> that work on these data becomes more distinct.
This ensures methods within <code>WordBankList</code> are written for <code>WordBankCommands</code> and methods within <code>WordBank</code> are
written for <code>CardCommands</code>, thereby increasing cohesion of individual components and decreasing coupling between the
two classes.</p>
<p class="tableblock"><em>Cons:</em><br>
Implementation requires much more effort.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Create a generic data structure class, and let both <code>WordBankList</code> and <code>WordBank</code> extend it.</strong><br></p>
<p class="tableblock"><em>Pros:</em><br>
Code that are reusable in <code>WordBank</code> can now be reused for <code>WordBankList</code>.</p>
<p class="tableblock"><em>Cons:</em><br>
This couples <code>WordBank</code> with <code>WordBankList</code>. Does not follow the Open-Closed principle.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock"><strong>Why did we choose Alternative 1:</strong><br>
In the spirit of software engineering principles, it is better to have the basic data structure implemented well.
Commands that depend on it becomes much easier to implement. (This can be seen in the drag and drop feature.)</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Alternative 1</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Alternative 2</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Aspect 2</strong>:<br>
Storage system for word banks.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Store one single large json file with <em>WordBank</em> names as keys and its <em>WordBank</em> data as values</strong>:<br></p>
<p class="tableblock"><em>Pros:</em><br>
Always save a snapshot of the data to the same file, regardless of what commands are executed.</p>
<p class="tableblock"><em>Cons:</em><br>
Unable to share <em>WordBanks</em> with friends, because one file contains all the <em>WordBanks</em>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Store each <em>WordBank</em> as a json file.</strong><br></p>
<p class="tableblock"><em>Pros:</em><br>
Enables sharing of <em>WordBank</em> files to friends.</p>
<p class="tableblock"><em>Cons:</em><br>
Require more consideration to deal with different type of commands which affects the storage dynamically.
Harder to read from multiple files.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock"><strong>Why did we choose Alternative 2:</strong><br>
This choice was based largely from the user&#8217;s perspective.<br>
As our app is designed to streamline learning, we figured that easy sharing of <em>WordBanks</em> file with friends is an important
aspect in our app, and cannot be compromised.</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Alternative 1</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Alternative 2</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Aspect 3</strong>:<br>
<code>Command</code> implementation.<br>
(Same goes for <code>CommandResult</code> implementation)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>All types of commands extends a single abstract class <code>Command</code></strong>:<br></p>
<p class="tableblock"><em>Pros:</em><br>
A rather simple implementation which does not break any software engineering principles.</p>
<p class="tableblock"><em>Cons:</em><br>
Can be further improved, as in Alternative 2.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Distinguishing <code>WordBankCommand</code> and <code>CardCommand</code> specifically -<br>
Commands that work on <code>Cards</code> extends the abstract
<code>CardCommand</code> class and commands that work on <code>WordBank</code> extends the abstract <code>WordBankCommand</code> class.</strong><br></p>
<p class="tableblock"><em>Pros:</em><br>
As we have created distinct data structure for <code>WordBankList</code> and <code>WordBank</code>, distinguished commands now
work solely on their respective data structure. It follows the Single Responsibility Principle
and the Separation of Concerns Principle more closely, and decreases the coupling between the two component.</p>
<p class="tableblock"><em>Cons:</em><br>
Requires tedious implementation to follow the principles.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock"><strong>Why did we choose Alternative 2:</strong><br>
Allows for easy extension of Dukemon&#8217;s functionality. Implementation of the drag and
drop feature is now a few function calls away, as all data structure and functions are well written.</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Alternative 1</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Alternative 2</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Aspect 4</strong>:<br>
How to implement Drag and Drop.<br>
<code>LoadBankPanel</code> is a deeply nested class, and is the corresponding class for the
<code>UI</code> to interact with user&#8217;s drag and drop action.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Updates <code>Storage</code> directly from <code>LoadBankPanel</code></strong>:<br></p>
<p class="tableblock"><em>Pros:</em><br>
It only requires a reference and then saving directly to <code>Storage</code>. This can be implemented with ease.<br></p>
<p class="tableblock"><em>Cons:</em><br>
Practically, there are a few exceptions being thrown when calling the storage&#8217;s method directly. <code>LoadBankPanel</code> cannot handle them effectively.<br>
This also leads to poor abstraction and high potential for cyclic dependencies, resulting in high coupling.<br></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Using <em>Functional Interfaces</em> as <em>Call-backs</em> to call an <code>ImportCommand</code> from <code>LoadBankPanel</code>.</strong><br></p>
<p class="tableblock"><em>Pros:</em><br>
Calling an already well-implemented <code>ImportCommand</code> allows all exceptions caught to be handled properly.<br>
It also maintains abstraction and minimal coupling between <code>LoadBankPanel</code> and other components.</p>
<p class="tableblock"><em>Cons:</em><br>
It makes the code less OOP and more functional.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock"><strong>Why did we choose Alternative 2:</strong><br>
Provides a more complete implementation, as it would make sense for exceptions to be caught and allow user to see
feedback messages.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="span-class-underline-statistics-feature-span"><a class="link" href="#span-class-underline-statistics-feature-span">3.5. <span class="underline">Statistics Feature</span></a></h3>
<div class="sect3">
<h4 id="implementation-3"><a class="link" href="#implementation-3">3.5.1. Implementation</a></h4>
<div class="paragraph">
<p>The work of the Statistics component can be neatly captured and explained using a common series of user actions
when operating the app.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">User action</th>
<th class="tableblock halign-left valign-top">Statistics work</th>
<th class="tableblock halign-left valign-top">UI Statistics updates</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">User opens the app.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User&#8217;s <code>GlobalStatistics</code> and <code>WordBankStatisticsList</code> are loaded into <code>Model</code> by the <code>MainApp</code>.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User is shown their <code>GlobalStatistics</code> and their most played word bank from the <code>WordBankStatisticsList</code> in
the main title page.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">User selects a word bank.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The selected <code>WordBankStatistics</code> from the <code>WordBankStatisticsList</code> is loaded into <code>Model</code>.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">User opens the selected word bank.</p></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">In open mode, User is shown the <code>WordBankStatistics</code> of the opened word bank.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">User plays the game.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A <code>GameStatisticsBuilder</code> is used to record user actions during the game.</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">User finishes the game.</p></td>
<td class="tableblock halign-left valign-top"><div><div class="ulist">
<ul>
<li>
<p>A <code>GameStatistics</code> is created from the <code>GameStatisticsBuilder</code>.</p>
</li>
<li>
<p>The <code>WordBankStatistics</code> and <code>GlobalStatistics</code> are updated accordingly and saved to disk.</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>GameStatistics</code> and the corresponding <code>WordBankStatistics</code> are displayed to user in the game result page.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>We will discuss each step with its implementation details primarily on the statistics work.</p>
</div>
<div class="sect4">
<h5 id="1-span-class-underline-user-opens-the-app-span-br"><a class="link" href="#1-span-class-underline-user-opens-the-app-span-br">1. <span class="underline">User opens the app</span><br></a></h5>
<div class="paragraph">
<p>When the user opens the app, their <code>GlobalStatistics</code> and <code>WordBankStatisticsList</code> are loaded into <code>Model</code> by
<code>MainApp</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/LoadStatisticsSequenceDiagram.png" alt="LoadStatisticsSequenceDiagram" width="460">
</div>
<div class="title">Figure 36. Sequence diagram for loading statistics</div>
</div>
</div>
<div class="sect4">
<h5 id="2-span-class-underline-user-selects-a-word-bank-span-br"><a class="link" href="#2-span-class-underline-user-selects-a-word-bank-span-br">2. <span class="underline">User selects a word bank</span><br></a></h5>
<div class="paragraph">
<p>When the user selects a word bank, the selected <code>WordBankStatistics</code> from the <code>WordBankStatisticsList</code> is loaded
into Model.<br></p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/SelectWordBankStatisticsSequenceDiagram.png" alt="SelectWordBankStatisticsSequenceDiagram">
</div>
<div class="title">Figure 37. Sequence diagram for selecting a word bank statistics.</div>
</div>
<div class="paragraph">
<p>It is necessary to set the active <code>WordBankStatistics</code> in the <code>Model</code> such that when the user opens the <code>WordBank</code>, the
<code>WordBankStatistics</code> can be found in <code>Model</code> and shown in the UI.</p>
</div>
</div>
<div class="sect4">
<h5 id="3-span-class-underline-user-opens-the-selected-word-bank-span-br"><a class="link" href="#3-span-class-underline-user-opens-the-selected-word-bank-span-br">3. <span class="underline">User opens the selected word bank</span><br></a></h5>
<div class="paragraph">
<p>In open mode, the user is shown the <code>WordBankStatistics</code> of the opened word bank, which is set in <code>Model</code> at step 2.</p>
</div>
</div>
<div class="sect4">
<h5 id="4-span-class-underline-user-plays-the-game-span-br"><a class="link" href="#4-span-class-underline-user-plays-the-game-span-br">4. <span class="underline">User plays the game</span><br></a></h5>
<div class="paragraph">
<p>A <code>GameStatisticsBuilder</code> is used to record user actions during the game.</p>
</div>
<div class="paragraph">
<p>When the user starts the game by calling a <code>StartCommand</code>, the <code>GameStatisticsBuilder</code> is initialized.
Additionally, the <code>GameStatisticsBuilder</code> is updated with every <code>GuessCommand</code> or <code>SkipCommand</code> made during the game.
It receives the timestamp from the <code>GameTimer</code> which also resides in <code>AppManager</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UpdateStatisticsSequenceDiagram.png" alt="UpdateStatisticsSequenceDiagram">
</div>
<div class="title">Figure 38. Sequence diagram when user makes a guess.</div>
</div>
</div>
<div class="sect4">
<h5 id="span-class-underline-5-user-finishes-the-game-span-br"><a class="link" href="#span-class-underline-5-user-finishes-the-game-span-br"><span class="underline">5. User finishes the game</span><br></a></h5>
<div class="paragraph">
<p>When the user finishes the game, a <code>GameStatistics</code> is created from the <code>GameStatisticsBuilder</code>. The <code>GameStatistics</code>
is shown to the user in the game result page.</p>
</div>
<div class="paragraph">
<p>The <code>GameStatistics</code> is used to update its corresponding <code>WordBankStatistics</code>, which is then saved to disk.
Additionally, the <code>GlobalStatistics</code> is also updated and saved to disk.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/UpdateSaveStatisticsSequenceDiagram.png" alt="UpdateSaveStatisticsSequenceDiagram">
</div>
<div class="title">Figure 39. Sequence diagram when the user makes the final guess.</div>
</div>
<div class="paragraph">
<p>The work done in step 4 and 5 is executed in <code>AppManager</code> and the checks to decide what to do are done in
the same method <code>updateGameStatisticsBuilder(CommandResult)</code>.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="images/GameStatisticsBuilderActivityDiagram.png" alt="GameStatisticsBuilderActivityDiagram" width="500">
</div>
<div class="title">Figure 40. Activity diagram when <code>AppManager</code> receives a <code>CommandResult</code> (Details unrelated to statistics are omitted).</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations-5"><a class="link" href="#design-considerations-5">3.5.2. Design Considerations</a></h4>
<div class="paragraph">
<p>There were some design considerations on implementing the statistics.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Alternative 1</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Alternative 2</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Aspect 1</strong>:<br>
How to store <code>WordBankStatistics</code> in the storage?</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Store in a separate file from the <code>WordBank</code> json file, but with the same name in a different directory.</strong></p>
<p class="tableblock">Example: <code>WordBank</code> data is stored at <em>data/wordbanks/pokemon.json</em> while the <code>WordBankStatistics</code> data is stored at
<em>data/wbstats/pokemon.json</em></p>
<p class="tableblock"><em>Pros:</em><br>
More abstraction to separate the data.<br></p>
<p class="tableblock"><em>Cons:</em><br>
The data is linked by name, so if the user changes the file name, the link is broken.<br></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Store <code>WordBankStatistics</code> data in the same file as <code>WordBank</code></strong><br></p>
<p class="tableblock"><em>Pros:</em><br>
Less number of files.<br></p>
<p class="tableblock"><em>Cons:</em><br>
Data is combined into one which lowers abstraction.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="3"><p class="tableblock"><strong>Why we decided to choose Alternative 1:</strong><br>
We decided that abstraction between the data is important as each team member should work in parallel, such that it is
easier for one person to modify the storage system for the word bank and another person to modify the storage system
for the word bank statistics freely.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="logging"><a class="link" href="#logging">3.6. Logging</a></h3>
<div class="paragraph">
<p>We are using <code>java.util.logging</code> package for logging. The <code>LogsCenter</code> class is used to manage the logging levels and logging destinations.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The logging level can be controlled using the <code>logLevel</code> setting in the configuration file (See <a href="#Implementation-Configuration">Section 3.7, &#8220;Configuration&#8221;</a>)</p>
</li>
<li>
<p>The <code>Logger</code> for a class can be obtained using <code>LogsCenter.getLogger(Class)</code> which will log messages according to the specified logging level</p>
</li>
<li>
<p>Currently log messages are output through: <code>Console</code> and to a <code>.log</code> file.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Logging Levels</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>SEVERE</code> : Critical problem detected which may possibly cause the termination of the application</p>
</li>
<li>
<p><code>WARNING</code> : Can continue, but with caution</p>
</li>
<li>
<p><code>INFO</code> : Information showing the noteworthy actions by the App</p>
</li>
<li>
<p><code>FINE</code> : Details that is not usually noteworthy but may be useful in debugging e.g. print the actual list instead of just its size</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="Implementation-Configuration"><a class="link" href="#Implementation-Configuration">3.7. Configuration</a></h3>
<div class="paragraph">
<p>Certain properties of the application can be controlled (e.g user prefs file location, logging level) through the configuration file (default: <code>config.json</code>).</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="product-scope"><a class="link" href="#product-scope">Appendix A: Product Scope</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p><strong>Target user profile</strong>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Students in formal educational institutions.</p>
</li>
<li>
<p>Students in informal educational contexts.</p>
</li>
<li>
<p>Users who are familiar with the keyboard, able to type fast.</p>
</li>
<li>
<p>Users who enjoy interactive learning.</p>
</li>
<li>
<p>Users who are famiiar and used to CLI-based apps.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Value proposition</strong>: Making Learning and Memorization Game-like, Fun and Engaging.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="user-stories"><a class="link" href="#user-stories">Appendix B: User Stories</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Priorities: High (must have) - <code>* * *</code>, Medium (nice to have) - <code>* *</code>, Low (unlikely to have) - <code>*</code></p>
</div>
<table class="tableblock frame-all grid-all" style="width: 59%;">
<colgroup>
<col style="width: 22%;">
<col style="width: 23%;">
<col style="width: 25%;">
<col style="width: 30%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Priority</th>
<th class="tableblock halign-left valign-top">As a &#8230;&#8203;</th>
<th class="tableblock halign-left valign-top">I want to &#8230;&#8203;</th>
<th class="tableblock halign-left valign-top">So that I can&#8230;&#8203;</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">teacher</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">add, edit, and delete questions in the word banks</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">make corrections on what my students are supposed to learn</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">teacher</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">give customised word banks and definitions</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">can let my students practice specific problems.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">list all my word banks</p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">give titles to word banks</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">recognise them better</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">delete word banks</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">free up some memory when I don’t need it anymore</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">see the content of the word bank</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">study beforehand/make changes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">young student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">trivia questions to be gamified</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">enjoy the process</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">create my own question banks</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">tailor fit to my learning</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* * *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">computer science student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">have a manual of the commands available</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">refer to them when I am lost</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">frequent user</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">easily access my most recently attempted question sets</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">can quickly resume my revision</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">studious student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">set and complete goals</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">have something to work towards</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">see my test statistics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">track my progress/improvement</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">choose different kinds of time constraints</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">can simulate exam conditions</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">categorise my question sets</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">easily look for relevant materials</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">mark question sets as important/urgent</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">know how to prioritise my revision</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">module coordinator</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">export lessons</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">send to their students</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">share and compare my results with my classmates</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">know where I stand</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">partition the trivia</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">attempt questions that I&#8217;m comfortable with</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">weak student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">have the option to see hints</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">won’t get stuck all the time</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">computer science student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">practise typing bash commands into the CLI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">strengthen my bash skills</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>* *</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">teacher</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">export statistics</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">can compare performance across different students</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">computer science student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">customize my “terminal”</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">changing themes/ background/ font size/ font colour, so that I feel comfortable working on it</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">teacher</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">protect tests with passwords</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">let my students do them in lessons together when password is released</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">teacher</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">protect the files</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">doesn&#8217;t get tampered when distributing to students</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">student</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">have smaller sized files</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">have more space on my computer</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="use-cases"><a class="link" href="#use-cases">Appendix C: Use Cases</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>(For all use cases below, the <strong>System</strong> is the <code>Dukemon</code> and the <strong>Actor</strong> is the <code>User</code>, unless specified otherwise)</p>
</div>
<h3 id="use-case-add-a-em-card-em" class="discrete">Use case: Add a <em>Card</em></h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User selects and opens a <em>WordBank</em>.</p>
</li>
<li>
<p>Dukemon shows a list of <em>Cards</em>.</p>
</li>
<li>
<p>User adds <em>Word</em> and <em>Meaning</em> pair.</p>
</li>
<li>
<p>Dukemon adds a <em>Card</em> into <em>WordBank</em>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Use case ends.</p>
</div>
<h3 id="use-case-play-a-game" class="discrete">Use case: Play a game</h3>
<div class="paragraph">
<p><strong>MSS</strong></p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>User selects and opens a <em>WordBank</em>.</p>
</li>
<li>
<p>Dukemon shows a list of <em>Cards</em>.</p>
</li>
<li>
<p>User starts a game.</p>
</li>
<li>
<p>Dukemon shows the <em>Meaning</em> of a <em>Card</em>.</p>
</li>
<li>
<p>User guesses <em>Word</em> of the corresponding <em>Card</em>.</p>
<div class="paragraph">
<p>Steps 4-5 are repeated till all <em>Cards</em> are played.</p>
</div>
</li>
<li>
<p>Game ends. Dukemon shows statistics of game.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Use case ends.</p>
</div>
<div class="paragraph">
<p><strong>Extentions</strong></p>
</div>
<div class="paragraph">
<p>2a. User opens settings</p>
</div>
<div class="paragraph">
<p>2a1.  User changes hints to off.</p>
</div>
<div class="paragraph">
<p>Use case resumes from step 3.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="non-functional-requirements"><a class="link" href="#non-functional-requirements">Appendix D: Non Functional Requirements</a></h2>
<div class="sectionbody">
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Compatible any <a href="#mainstream-os">mainstream OS</a> as long as it has Java <code>11</code> or above installed.</p>
</li>
<li>
<p>User has above average typing speed for regular English text (i.e. not code, not system admin commands); able to accomplish most of the tasks faster using commands than using the mouse.</p>
</li>
<li>
<p>Users can export and import their <a href="#wordbank">wordbanks</a> or <em>Statistics</em>.</p>
</li>
<li>
<p>Feedback shown to user must be fast (&lt; 0.2s) especially during a <em>Game</em>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><em>{More to be added}</em></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="glossary"><a class="link" href="#glossary">Appendix E: Glossary</a></h2>
<div class="sectionbody">
<div class="dlist">
<dl>
<dt class="hdlist1"><a id="mainstream-os"></a> Mainstream OS</dt>
<dd>
<p>Windows, Linux, Unix, OS-X, Ubuntu and <em>etc</em>.</p>
</dd>
<dt class="hdlist1"><a id="wordbank"></a> WordBank</dt>
<dd>
<p>Data structure that contains a list of several <em>Cards</em>.</p>
</dd>
<dt class="hdlist1"><a id="card"></a> Card</dt>
<dd>
<p>Analogue to a physical Flashcard- contains a <em>Word</em> and a <em>Meaning</em>.</p>
</dd>
<dt class="hdlist1"><a id="word"></a> Word</dt>
<dd>
<p>The component of a <em>Card</em> that is to be guessed by the user during a <em>Game</em>.</p>
</dd>
<dt class="hdlist1"><a id="meaning"></a> Meaning</dt>
<dd>
<p>The meaning represented by the <em>Word</em> of a <em>Card</em>; is shown to the user during a <em>Game</em>.</p>
</dd>
<dt class="hdlist1"><a id="game"></a> Game</dt>
<dd>
<p>A game session that runs on a specific <em>WordBank</em> of <em>Cards</em>.</p>
</dd>
<dt class="hdlist1"><a id="callback"></a> Callback</dt>
<dd>
<p>A piece of executable code that is passed as an argument to other another
code that is expected to <em>callback</em> (execute) the argument at a given time.
(Adapted from <a href="https://en.wikipedia.org/wiki/Callback_(computer_programming)">Wikipedia</a>)</p>
</dd>
<dt class="hdlist1"><a id="gui"></a> GUI</dt>
<dd>
<p><em>Graphical User Interface</em>, the primary interface of which <em>Dukemon</em>'s feedback to the user can be seen.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="instructions-for-manual-testing"><a class="link" href="#instructions-for-manual-testing">Appendix F: Instructions for Manual Testing.</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Given below are instructions for the testing of <em>Dukemon</em> manually.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The below instruction are only intended as starting points for testers to work on; testers are expected to do more <em>exploratory</em> testing.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="initial-start-up-and-editing-of-a-em-wordbank-em"><a class="link" href="#initial-start-up-and-editing-of-a-em-wordbank-em">F.1. Initial Start-up and Editing of a <em>WordBank</em>.</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Initial clean launch</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Download the <code>Dukemon.jar</code> file and copy into an <strong>empty folder</strong></p>
</li>
<li>
<p>Double-click the <code>.jar</code> file<br>
<span class="underline">Expected</span>: GUI appears with some sample <em>WordBanks</em>. Default window size may not be optimum.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Selecting and viewing a default <em>WordBank</em></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Enter <code>select trivia</code> to choose the <em>Trivia WordBank</em>.<br>
<span class="underline">Expected</span>: GUI shows feedback <em>"Selected word bank: trivia"</em> in the <em>ResultDisplay</em>.</p>
</li>
<li>
<p>Enter <code>open</code>.<br>
<span class="underline">Expected</span>: GUI switches to <em>Open</em> mode, <em>Cards</em> belonging to <em>Trivia</em> are shown.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Adding a new <em>Card</em> to a <em>WordBank</em></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Enter <code>add w/Damith m/Lecturer of CS2103T t/Easy</code><br>
<span class="underline">Expected</span>: Feedback shown that a new <em>Card</em> with the above details are added. List of <em>Cards</em> on GUI&#8217;s right panel reflects the addition of a new <em>Card</em>.</p>
</li>
<li>
<p>Enter <code>exit</code> and relaunch <em>Dukemon</em>. Enter <code>select triva</code> and then <code>open</code> upon restarting <br>
<span class="underline">Expected</span>: The new <em>Card</em> ("Damith") added previously is correctly stored in the <em>Triva</em> <em>WordBank</em>.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="starting-and-terminating-a-em-game-em-session-without-em-hints-em"><a class="link" href="#starting-and-terminating-a-em-game-em-session-without-em-hints-em">F.2. Starting and Terminating a <em>Game</em> session without <em>Hints</em>.</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Starting a <em>Game</em> after a target <em>WordBank</em> has been selected.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><span class="underline">Prerequisite</span>: A <em>WordBank</em> with <strong>3 or more <em>Cards</em></strong> has been selected using the <code>select</code> command.</p>
</li>
<li>
<p>Enter <code>settings</code><br>
<span class="underline">Expected</span>: GUI switches to <em>Settings</em> mode, and various configurable parameters are listed. (ie. <em>Theme</em>, <em>Hints</em> etc)</p>
</li>
<li>
<p>Enter <code>hints off</code><br>
<span class="underline">Expected</span>: GUI feedback indicates that <em>Hints</em> are turned OFF</p>
</li>
<li>
<p>Enter <code>start easy</code><br>
<span class="underline">Expected</span>: GUI switches to <em>Game</em> mode with two panels stacked on top of each other. A 15s-countdown <em>Timer</em> is started at the top right of the GUI.
A random <em>Meaning</em> of a <em>Card</em> belonging to the selected <em>WordBank</em> is shown on the upper panel. The bottom panel indicated that there are no <code>Hints</code>. When time
is running out, the <em>Timer</em> region changes color.</p>
</li>
<li>
<p>Enter <code>stop</code> (<strong>before all <em>Cards</em> are shown</strong>)<br>
<span class="underline">Expected</span>: <em>Game</em> stops, feedback informs that "Game has been forcibly stopped". <em>Timer</em> stops running and disappears.</p>
</li>
<li>
<p>Enter <code>guess abc</code> to attempt to make a <code>Guess</code> after <em>Game</em> ends.<br>
<span class="underline">Expected</span>: No <code>guess</code> is processed, feedback indicates that "This command does not work right now"</p>
</li>
<li>
<p>Enter <code>skip</code> to attempt to skip over to another <em>Card</em>.<br>
<span class="underline">Expected</span>: No skipping over occurs, feedback indicates that "This command does not work right now"</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Other possible Difficulties to start with are <code>start medium</code> and <code>start hard</code>, allowing 10s and 5s
respectively for each <em>Card</em>. Other invalid commands will yield similar results after stopping the <em>Game</em>.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="importing-and-exporting-a-em-wordbank-em-using-drag-and-drop"><a class="link" href="#importing-and-exporting-a-em-wordbank-em-using-drag-and-drop">F.3. Importing and Exporting a <em>WordBank</em> using Drag-and-Drop.</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Exporting a <em>WordBank</em> using Drag-and-Drop</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><span class="underline">Prerequisite</span>: There exists <strong>at least one</strong> <em>WordBank</em> in <em>Dukemon</em>'s data storage. Let <strong>W</strong> be any <em>WordBank</em> that currently exists in <em>Dukemon</em>'s storage.</p>
</li>
<li>
<p>(Single) Click on Panel on the right half of the GUI that indicates <em>WordBank</em> <strong>W</strong><br>
<span class="underline">Expected</span>: <em>WordBank</em> <strong>W</strong>'s panel on the GUI becomes highlighted.</p>
</li>
<li>
<p>Use mouse cursor to click-and-drag highlighted panel <strong>outside</strong> of <em>Dukemon</em> into an <strong>empty</strong> folder. <br>
<span class="underline">Expected</span>: A file with name <strong>W.json</strong> appears in the folder where it was dragged into.</p>
</li>
</ol>
</div>
</li>
<li>
<p>Importing a <em>WordBank</em> using Drag-and-Drop</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><span class="underline">Prerequisite</span>: <em>WordBank</em> to be imported is in <strong>valid .json format</strong>, and all of its <em>Cards</em> are <strong>valid within constraints.</strong> Let <strong>V</strong> be the <em>WordBank</em> to be imported.</p>
</li>
<li>
<p>(Single) Click on <strong>V.json</strong> in your file directory. Start <em>Dukemon</em> and drag <strong>V.json</strong> into the panel on the right side (where the list of <em>WordBanks</em> is shown.) <br>
<span class="underline">Expected</span>: <em>WordBank</em> <strong>V</strong> is successfully added into the list of <em>WordBanks</em>, feedback indicates location where file was imported from.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="changing-and-saving-em-dukemon-em-settings"><a class="link" href="#changing-and-saving-em-dukemon-em-settings">F.4. Changing and Saving <em>Dukemon</em> Settings</a></h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Changing Color Theme of <em>Dukemon</em></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><span class="underline">Prerequisite</span>: A <em>WordBank</em> has <strong>already been selected</strong> from the <em>Home</em> mode, and no <em>Game</em> session is in progress.</p>
</li>
<li>
<p>Enter <code>settings</code><br>
<span class="underline">Expected</span>: GUI switches to the <em>Settings</em> screen.</p>
</li>
<li>
<p>Enter <code>theme light</code><br>
<span class="underline">Expected</span>: GUI&#8217;s overall color theme switches to a lighter color.</p>
</li>
<li>
<p>Enter <code>exit</code>, then restart <em>Dukemon</em> (do not change any configuration or data files)<br>
<span class="underline">Expected</span>: GUI&#8217;s color theme remains light after restarting.</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
</div>
</div></div><div id="footer"><div class="container"><div id="footer-text">Last updated 2019-11-11 10:41:49 UTC</div></div></div></body></html>